{
  final BlockStatement thenBlock=new BlockStatement();
  final Statement appendValue=ignoreNulls ? new IfStatement(notNullExpr(value),thenBlock,EmptyStatement.INSTANCE) : thenBlock;
  appendCommaIfNotFirst(thenBlock,result,first);
  appendPrefix(thenBlock,result,name,includeNames);
  thenBlock.addStatement(new IfStatement(identicalExpr(value,VariableExpression.THIS_EXPRESSION),append(result,new ConstantExpression("(this)")),append(result,new StaticMethodCallExpression(INVOKER_TYPE,"toString",value))));
  body.addStatement(appendValue);
}
