{
  MetaClass.setUseReflection(true);
  Options options=buildOptions();
  try {
    CommandLine cmd=parseCommandLine(options,args);
    if (cmd.hasOption('h')) {
      HelpFormatter formatter=new HelpFormatter();
      formatter.printHelp("groovy",options);
    }
 else     if (cmd.hasOption('v')) {
      String version=InvokerHelper.getVersion();
      System.out.println("Groovy Version: " + version + " JVM: "+ System.getProperty("java.vm.version"));
    }
 else {
      process(cmd);
    }
  }
 catch (  ParseException pe) {
    System.out.println("error: " + pe.getMessage());
    HelpFormatter formatter=new HelpFormatter();
    formatter.printHelp("groovy",options);
  }
}
