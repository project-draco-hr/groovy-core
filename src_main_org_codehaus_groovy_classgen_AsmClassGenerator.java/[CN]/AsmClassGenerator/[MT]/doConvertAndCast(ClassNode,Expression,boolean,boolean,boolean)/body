{
  ClassNode expType=getExpressionType(expression);
  if (!ignoreAutoboxing && ClassHelper.isPrimitiveType(type)) {
    type=ClassHelper.getWrapper(type);
  }
  if (forceCast || (type != null && !expType.isDerivedFrom(type) && !expType.implementsInterface(type.getName()))) {
    doConvertAndCast(type,coerce);
  }
}
