{
  onLineNumber(statement,"visitSynchronizedStatement");
  visitStatement(statement);
  statement.getExpression().visit(this);
  final int index=compileStack.defineTemporaryVariable("synchronized",ClassHelper.Integer_TYPE,true);
  final Label synchronizedStart=new Label();
  final Label synchronizedEnd=new Label();
  final Label catchAll=new Label();
  cv.visitVarInsn(ALOAD,index);
  cv.visitInsn(MONITORENTER);
  cv.visitLabel(synchronizedStart);
  Runnable finallyPart=new Runnable(){
    public void run(){
      cv.visitVarInsn(ALOAD,index);
      cv.visitInsn(MONITOREXIT);
    }
  }
;
  compileStack.pushFinallyBlock(finallyPart);
  statement.getCode().visit(this);
  finallyPart.run();
  cv.visitJumpInsn(GOTO,synchronizedEnd);
  cv.visitLabel(catchAll);
  finallyPart.run();
  cv.visitInsn(ATHROW);
  cv.visitLabel(synchronizedEnd);
  compileStack.popFinallyBlock();
  exceptionBlocks.add(new Runnable(){
    public void run(){
      cv.visitTryCatchBlock(synchronizedStart,catchAll,catchAll,null);
    }
  }
);
}
