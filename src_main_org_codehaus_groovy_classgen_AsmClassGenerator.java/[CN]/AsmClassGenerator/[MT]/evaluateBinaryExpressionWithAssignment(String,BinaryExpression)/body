{
  Expression leftExpression=expression.getLeftExpression();
  if (leftExpression instanceof BinaryExpression) {
    BinaryExpression leftBinExpr=(BinaryExpression)leftExpression;
    if (leftBinExpr.getOperation().getType() == Types.LEFT_SQUARE_BRACKET) {
      final Expression objExpr=leftBinExpr.getLeftExpression();
      objExpr.visit(this);
      final int objVar=compileStack.defineTemporaryVariable("$object",true);
      final Expression indexExpr=leftBinExpr.getRightExpression();
      indexExpr.visit(this);
      final int indexVar=compileStack.defineTemporaryVariable("$index",true);
      final BinaryExpression leftExpr=new BinaryExpression(new VariableExpression("$object"),Token.newSymbol(Types.LEFT_SQUARE_BRACKET,-1,-1),new VariableExpression("$index"));
      MethodCallExpression methodCall=new MethodCallExpression(leftExpr,method,new ArgumentListExpression(expression.getRightExpression()));
      methodCall.visit(this);
      final int resultVar=compileStack.defineTemporaryVariable("$result",true);
      visitMethodCallExpression(new MethodCallExpression(new VariableExpression("$object"),"putAt",new ArgumentListExpression(new Expression[]{new VariableExpression("$index"),new VariableExpression("$result")})));
      mv.visitInsn(POP);
      mv.visitVarInsn(ALOAD,resultVar);
      compileStack.removeVar(resultVar);
      compileStack.removeVar(indexVar);
      compileStack.removeVar(objVar);
      return;
    }
  }
  evaluateBinaryExpression(method,expression);
  mv.visitInsn(DUP);
  leftHandExpression=true;
  evaluateExpression(leftExpression);
  leftHandExpression=false;
}
