{
  Type expType=getExpressionType(expression);
  if (!ignoreAutoboxing && type.isPrimitiveType()) {
    type=type.getWrapper();
  }
  if (forceCast || (type != null && !type.equals(expType))) {
    doConvertAndCast(type);
  }
}
