{
  ClassNode type=expression.getType();
  if (ClassHelper.isPrimitiveType(type)) {
    ClassNode objectType=ClassHelper.getWrapper(type);
    cv.visitFieldInsn(GETSTATIC,BytecodeHelper.getClassInternalName(objectType),"TYPE","Ljava/lang/Class;");
  }
 else {
    String staticFieldName;
    if (type.equals(classNode)) {
      staticFieldName="class$0";
      if (compileStack.getCurrentClassIndex() != -1) {
        cv.visitVarInsn(ALOAD,compileStack.getCurrentClassIndex());
      }
 else {
        cv.visitFieldInsn(GETSTATIC,internalClassName,staticFieldName,"Ljava/lang/Class;");
        cv.visitInsn(DUP);
        int index=compileStack.defineTemporaryVariable("class$0",ClassHelper.CLASS_Type,true);
        compileStack.setCurrentClassIndex(index);
      }
      return;
    }
 else     if (type.equals(ClassHelper.METACLASS_TYPE)) {
      staticFieldName=getStaticFieldName(type);
      if (compileStack.getCurrentMetaClassIndex() != -1) {
        cv.visitVarInsn(ALOAD,compileStack.getCurrentMetaClassIndex());
      }
 else {
        cv.visitFieldInsn(GETSTATIC,internalClassName,staticFieldName,"Ljava/lang/Class;");
        cv.visitInsn(DUP);
        int index=compileStack.defineTemporaryVariable("meta$class$0",ClassHelper.CLASS_Type,true);
        compileStack.setCurrentMetaClassIndex(index);
      }
      return;
    }
 else {
      staticFieldName=getStaticFieldName(type);
    }
    syntheticStaticFields.add(staticFieldName);
    String internalClassName=this.internalClassName;
    if (classNode.isInterface()) {
      internalClassName=BytecodeHelper.getClassInternalName(interfaceClassLoadingClass);
    }
    cv.visitFieldInsn(GETSTATIC,internalClassName,staticFieldName,"Ljava/lang/Class;");
    Label l0=new Label();
    cv.visitJumpInsn(IFNONNULL,l0);
    cv.visitLdcInsn(BytecodeHelper.getClassLoadingTypeDescription(type));
    cv.visitMethodInsn(INVOKESTATIC,internalClassName,"class$","(Ljava/lang/String;)Ljava/lang/Class;");
    cv.visitInsn(DUP);
    cv.visitFieldInsn(PUTSTATIC,internalClassName,staticFieldName,"Ljava/lang/Class;");
    Label l1=new Label();
    cv.visitJumpInsn(GOTO,l1);
    cv.visitLabel(l0);
    cv.visitFieldInsn(GETSTATIC,internalClassName,staticFieldName,"Ljava/lang/Class;");
    cv.visitLabel(l1);
  }
}
