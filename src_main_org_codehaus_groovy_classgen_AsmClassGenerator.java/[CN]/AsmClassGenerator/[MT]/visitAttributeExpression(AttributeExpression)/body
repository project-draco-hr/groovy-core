{
  Expression objectExpression=expression.getObjectExpression();
  MethodCallerMultiAdapter adapter;
  if (controller.getCompileStack().isLHS()) {
    adapter=setField;
    if (isGroovyObject(objectExpression))     adapter=setGroovyObjectField;
    if (usesSuper(expression))     adapter=setFieldOnSuper;
  }
 else {
    adapter=getField;
    if (isGroovyObject(objectExpression))     adapter=getGroovyObjectField;
    if (usesSuper(expression))     adapter=getFieldOnSuper;
  }
  visitAttributeOrProperty(expression,adapter);
  if (!controller.getCompileStack().isLHS()) {
    controller.getAssertionWriter().record(expression.getProperty());
  }
 else {
    controller.getOperandStack().remove(2);
  }
}
