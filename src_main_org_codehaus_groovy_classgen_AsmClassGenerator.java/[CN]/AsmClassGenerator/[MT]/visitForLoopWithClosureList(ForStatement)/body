{
  compileStack.pushLoop(loop.getVariableScope(),loop.getStatementLabel());
  ClosureListExpression clExpr=(ClosureListExpression)loop.getCollectionExpression();
  compileStack.pushVariableScope(clExpr.getVariableScope());
  List expressions=clExpr.getExpressions();
  int size=expressions.size();
  int condIndex=(size - 1) / 2;
  for (int i=0; i < condIndex; i++) {
    visitExpressionOrStatement(expressions.get(i));
  }
  Label continueLabel=compileStack.getContinueLabel();
  Label breakLabel=compileStack.getBreakLabel();
  cv.visitLabel(continueLabel);
{
    Expression condExpr=(Expression)expressions.get(condIndex);
    if (condExpr == EmptyExpression.INSTANCE) {
      cv.visitIntInsn(BIPUSH,0);
    }
 else     if (isComparisonExpression(condExpr)) {
      condExpr.visit(this);
    }
 else {
      visitAndAutoboxBoolean(condExpr);
      helper.unbox(ClassHelper.boolean_TYPE);
    }
  }
  cv.visitJumpInsn(IFEQ,breakLabel);
  loop.getLoopBlock().visit(this);
  for (int i=condIndex + 1; i < size; i++) {
    visitExpressionOrStatement(expressions.get(i));
  }
  cv.visitJumpInsn(GOTO,continueLabel);
  cv.visitLabel(breakLabel);
  compileStack.pop();
  compileStack.pop();
}
