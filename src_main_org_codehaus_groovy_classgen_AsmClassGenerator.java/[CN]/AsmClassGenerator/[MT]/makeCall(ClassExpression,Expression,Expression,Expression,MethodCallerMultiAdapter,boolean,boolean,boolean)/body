{
  if ((adapter == invokeMethod || adapter == invokeMethodOnCurrent || adapter == invokeStaticMethod) && !spreadSafe) {
    String methodName=null;
    if (message instanceof CastExpression) {
      CastExpression msg=(CastExpression)message;
      if (msg.getType() == ClassHelper.STRING_TYPE) {
        final Expression methodExpr=msg.getExpression();
        if (methodExpr instanceof ConstantExpression)         methodName=methodExpr.getText();
      }
    }
    if (methodName == null && message instanceof ConstantExpression) {
      ConstantExpression constantExpression=(ConstantExpression)message;
      methodName=constantExpression.getText();
    }
    if (methodName != null) {
      makeCallSite(receiver,methodName,arguments,safe,implicitThis,adapter == invokeMethodOnCurrent,adapter == invokeStaticMethod);
      return;
    }
  }
  boolean lhs=leftHandExpression;
  leftHandExpression=false;
  sender.visit(this);
  boolean oldVal=this.implicitThis;
  this.implicitThis=implicitThis;
  visitAndAutoboxBoolean(receiver);
  this.implicitThis=oldVal;
  if (message != null)   message.visit(this);
  boolean containsSpreadExpression=containsSpreadExpression(arguments);
  int numberOfArguments=containsSpreadExpression ? -1 : argumentSize(arguments);
  if (numberOfArguments > MethodCallerMultiAdapter.MAX_ARGS || containsSpreadExpression) {
    ArgumentListExpression ae;
    if (arguments instanceof ArgumentListExpression) {
      ae=(ArgumentListExpression)arguments;
    }
 else     if (arguments instanceof TupleExpression) {
      TupleExpression te=(TupleExpression)arguments;
      ae=new ArgumentListExpression(te.getExpressions());
    }
 else {
      ae=new ArgumentListExpression();
      ae.addExpression(arguments);
    }
    if (containsSpreadExpression) {
      despreadList(ae.getExpressions(),true);
    }
 else {
      ae.visit(this);
    }
  }
 else   if (numberOfArguments > 0) {
    TupleExpression te=(TupleExpression)arguments;
    for (int i=0; i < numberOfArguments; i++) {
      Expression argument=te.getExpression(i);
      visitAndAutoboxBoolean(argument);
      if (argument instanceof CastExpression)       loadWrapper(argument);
    }
  }
  adapter.call(mv,numberOfArguments,safe,spreadSafe);
  leftHandExpression=lhs;
}
