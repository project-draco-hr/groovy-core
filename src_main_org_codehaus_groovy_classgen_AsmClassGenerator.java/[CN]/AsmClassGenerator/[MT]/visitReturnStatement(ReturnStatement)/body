{
  onLineNumber(statement,"visitReturnStatement");
  Type returnType=methodNode.getReturnType();
  if (returnType == Type.VOID_TYPE) {
    if (!(statement == ReturnStatement.RETURN_NULL_OR_VOID)) {
      throwException("Cannot use return statement with an expression on a method that returns void");
    }
    cv.visitInsn(RETURN);
    outputReturn=true;
    return;
  }
  Expression expression=statement.getExpression();
  evaluateExpression(expression);
  if (returnType == Type.OBJECT_TYPE && expression.getType() != null && expression.getType() == Type.VOID_TYPE) {
    cv.visitInsn(ACONST_NULL);
    cv.visitInsn(ARETURN);
  }
 else {
    helper.unbox(returnType);
    String returnTypeName=returnType.getName();
    if (returnTypeName.equals("double")) {
      cv.visitInsn(DRETURN);
    }
 else     if (returnTypeName.equals("float")) {
      cv.visitInsn(FRETURN);
    }
 else     if (returnTypeName.equals("long")) {
      cv.visitInsn(LRETURN);
    }
 else     if (returnTypeName.equals("boolean")) {
      cv.visitInsn(IRETURN);
    }
 else     if (returnTypeName.equals("char") || returnTypeName.equals("byte") || returnTypeName.equals("int")|| returnTypeName.equals("short")) {
      cv.visitInsn(IRETURN);
    }
 else {
      doConvertAndCast(returnType,expression,false,true);
      cv.visitInsn(ARETURN);
    }
  }
  outputReturn=true;
}
