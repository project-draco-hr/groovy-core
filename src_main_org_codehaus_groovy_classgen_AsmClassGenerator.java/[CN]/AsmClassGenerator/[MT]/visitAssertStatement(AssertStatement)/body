{
  onLineNumber(statement,"visitAssertStatement");
  visitStatement(statement);
  BooleanExpression booleanExpression=statement.getBooleanExpression();
  booleanExpression.visit(this);
  Label l0=new Label();
  cv.visitJumpInsn(IFEQ,l0);
  Label l1=new Label();
  cv.visitJumpInsn(GOTO,l1);
  cv.visitLabel(l0);
  String expressionText=booleanExpression.getText();
  List list=new ArrayList();
  addVariableNames(booleanExpression,list);
  if (list.isEmpty()) {
    cv.visitLdcInsn(expressionText);
  }
 else {
    boolean first=true;
    cv.visitTypeInsn(NEW,"java/lang/StringBuffer");
    cv.visitInsn(DUP);
    cv.visitLdcInsn(expressionText + ". Values: ");
    cv.visitMethodInsn(INVOKESPECIAL,"java/lang/StringBuffer","<init>","(Ljava/lang/String;)V");
    int tempIndex=compileStack.defineTemporaryVariable("assert",true);
    for (Iterator iter=list.iterator(); iter.hasNext(); ) {
      String name=(String)iter.next();
      String text=name + " = ";
      if (first) {
        first=false;
      }
 else {
        text=", " + text;
      }
      cv.visitVarInsn(ALOAD,tempIndex);
      cv.visitLdcInsn(text);
      cv.visitMethodInsn(INVOKEVIRTUAL,"java/lang/StringBuffer","append","(Ljava/lang/Object;)Ljava/lang/StringBuffer;");
      cv.visitInsn(POP);
      cv.visitVarInsn(ALOAD,tempIndex);
      new VariableExpression(name).visit(this);
      cv.visitMethodInsn(INVOKEVIRTUAL,"java/lang/StringBuffer","append","(Ljava/lang/Object;)Ljava/lang/StringBuffer;");
      cv.visitInsn(POP);
    }
    cv.visitVarInsn(ALOAD,tempIndex);
    compileStack.removeVar(tempIndex);
  }
  statement.getMessageExpression().visit(this);
  assertFailedMethod.call(cv);
  cv.visitLabel(l1);
}
