{
  if (leftExpression instanceof VariableExpression) {
    VariableExpression varExp=(VariableExpression)leftExpression;
    String type=varExp.getType();
    if (isValidTypeForCast(type)) {
      return type;
    }
    String variableName=varExp.getVariable();
    Variable variable=(Variable)variableStack.get(variableName);
    if (variable != null) {
      if (variable.isHolder() || variable.isProperty()) {
        return null;
      }
      type=variable.getTypeName();
      if (isValidTypeForCast(type)) {
        return type;
      }
    }
 else {
      FieldNode field=classNode.getField(variableName);
      if (field == null) {
        field=classNode.getOuterField(variableName);
      }
      if (field != null) {
        type=field.getType();
        if (!field.isHolder() && isValidTypeForCast(type)) {
          return type;
        }
      }
    }
  }
  return null;
}
