{
  ClassNode classNode=new ClassNode("Foo",ACC_PUBLIC + ACC_SUPER,"java.lang.Object");
  classNode.addProperty(new PropertyNode("bar",ACC_PUBLIC,"java.lang.String","Foo",null,null,null));
  Class fooClass=loadClass(classNode);
  assertTrue("Loaded a new class",fooClass != null);
  Object bean=fooClass.newInstance();
  assertTrue("Managed to create bean",bean != null);
  assertField(fooClass,"bar",0,"java.lang.String");
  assertGetProperty(bean,"bar",null);
  assertSetProperty(bean,"bar","newValue");
}
