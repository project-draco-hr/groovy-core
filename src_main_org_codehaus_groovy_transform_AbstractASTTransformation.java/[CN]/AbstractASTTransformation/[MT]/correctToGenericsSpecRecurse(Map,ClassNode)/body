{
  if (type.isGenericsPlaceHolder()) {
    String name=type.getGenericsTypes()[0].getName();
    type=(ClassNode)genericsSpec.get(name);
  }
  if (type == null)   type=ClassHelper.OBJECT_TYPE;
  GenericsType[] oldgTypes=type.getGenericsTypes();
  ClassNode[] newgTypes=new ClassNode[0];
  if (oldgTypes != null) {
    newgTypes=new ClassNode[oldgTypes.length];
    for (int i=0; i < newgTypes.length; i++) {
      newgTypes[i]=Verifier.correctToGenericsSpec(genericsSpec,oldgTypes[i]);
    }
  }
  return makeClassSafeWithGenerics(type,newgTypes);
}
