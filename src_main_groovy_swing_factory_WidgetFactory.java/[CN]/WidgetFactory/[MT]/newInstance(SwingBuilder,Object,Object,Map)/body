{
  if (value == null) {
    value=properties.remove(name);
  }
  if ((value != null) && SwingBuilder.checkValueIsType(value,name,restrictedType)) {
    return value;
  }
 else {
    throw new RuntimeException(name + " must have either a value argument or an attribute named " + name+ " that must be of type "+ restrictedType.getName());
  }
}
