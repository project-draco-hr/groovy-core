{
  AST leftNode=node.getFirstChild();
  if (leftNode != null) {
    AST identifierNode=leftNode.getNextSibling();
    if (identifierNode != null) {
      Expression leftExpression=expression(leftNode);
      if (isType(SELECT_SLOT,identifierNode)) {
        Expression field=expression(identifierNode.getFirstChild(),true);
        AttributeExpression attributeExpression=new AttributeExpression(leftExpression,field,node.getType() != DOT);
        if (node.getType() == SPREAD_DOT) {
          attributeExpression.setSpreadSafe(true);
        }
        configureAST(attributeExpression,node);
        return attributeExpression;
      }
      Expression property=expression(identifierNode,true);
      PropertyExpression propertyExpression=new PropertyExpression(leftExpression,property,node.getType() != DOT);
      if (node.getType() == SPREAD_DOT) {
        propertyExpression.setSpreadSafe(true);
      }
      configureAST(propertyExpression,node);
      return propertyExpression;
    }
  }
  return methodCallExpression(node);
}
