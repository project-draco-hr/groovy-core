{
  TypeChooser typeChooser=controller.getTypeChooser();
  ClassNode classNode=controller.getClassNode();
  ClassNode receiverType=typeChooser.resolveType(receiver,classNode);
  if (receiver instanceof VariableExpression && ((VariableExpression)receiver).isThisExpression() && !controller.isInClosure()) {
    receiverType=classNode;
  }
  String property=methodName;
  if (classNode.getNodeMetaData(StaticCompilationMetadataKeys.WITH_CLOSURE) != null && "owner".equals(property)) {
    property="delegate";
  }
  if (makeGetField(receiver,receiverType,property,implicitThis,samePackages(receiverType.getPackageName(),classNode.getPackageName())))   return;
  if (makeGetPropertyWithGetter(receiver,receiverType,property,safe,implicitThis))   return;
  MethodCallExpression call=new MethodCallExpression(receiver,"getProperty",new ArgumentListExpression(new ConstantExpression(property)));
  call.setImplicitThis(implicitThis);
  call.setSafe(safe);
  call.setMethodTarget(GROOVYOBJECT_GETPROPERTY_METHOD);
  call.visit(controller.getAcg());
  return;
}
