{
  super(configuration,loader,null);
  this.names=new ArrayList();
  this.queuedSources=new LinkedList();
  this.sources=new HashMap();
  this.summariesBySourceName=new HashMap();
  this.summariesByPublicClassName=new HashMap();
  this.classSourcesByPublicClassName=new HashMap();
  this.ast=new CompileUnit(this.classLoader,security,this.configuration);
  this.generatedClasses=new ArrayList();
  this.verifier=new Verifier();
  this.resolveVisitor=new ResolveVisitor(this);
  this.staticImportVisitor=new StaticImportVisitor(this);
  phaseOperations=new LinkedList[Phases.ALL + 1];
  for (int i=0; i < phaseOperations.length; i++) {
    phaseOperations[i]=new LinkedList();
  }
  addPhaseOperation(new SourceUnitOperation(){
    public void call(    SourceUnit source) throws CompilationFailedException {
      source.parse();
    }
  }
,Phases.PARSING);
  addPhaseOperation(convert,Phases.CONVERSION);
  addPhaseOperation(new PrimaryClassNodeOperation(){
    public void call(    SourceUnit source,    GeneratorContext context,    ClassNode classNode) throws CompilationFailedException {
      EnumVisitor ev=new EnumVisitor(CompilationUnit.this,source);
      ev.visitClass(classNode);
    }
  }
,Phases.CONVERSION);
  addPhaseOperation(resolve,Phases.SEMANTIC_ANALYSIS);
  addPhaseOperation(staticImport,Phases.SEMANTIC_ANALYSIS);
  addPhaseOperation(compileCompleteCheck,Phases.CANONICALIZATION);
  addPhaseOperation(classgen,Phases.CLASS_GENERATION);
  addPhaseOperation(output);
  this.classgenCallback=null;
}
