{
  if (this.phase != Phases.SEMANTIC_ANALYSIS) {
    throw new GroovyBugError("CompilationUnit not ready for semanticAnalysis()");
  }
  applyToSourceUnits(resolve);
  completePhase();
  applyToSourceUnits(mark);
}
