{
  ArrayList unsorted=new ArrayList();
  Iterator modules=this.ast.getModules().iterator();
  while (modules.hasNext()) {
    ModuleNode module=(ModuleNode)modules.next();
    Iterator classNodes=module.getClasses().iterator();
    while (classNodes.hasNext()) {
      ClassNode classNode=(ClassNode)classNodes.next();
      unsorted.add(classNode);
    }
  }
  if (sort == false)   return unsorted;
  int[] index=new int[unsorted.size()];
{
    int i=0;
    for (Iterator iter=unsorted.iterator(); iter.hasNext(); i++) {
      ClassNode element=(ClassNode)iter.next();
      int count=0;
      while (element != null) {
        count++;
        element=element.getSuperClass();
      }
      index[i]=count;
    }
  }
  ArrayList sorted=new ArrayList(unsorted.size());
  int start=0;
  for (int i=0; i < index.length; i++) {
    int min=start;
    for (int j=start + 1; j < index.length; j++) {
      if (index[j] != -1 && index[j] < index[min])       min=j;
    }
    if (min == start)     start++;
    sorted.add(unsorted.get(min));
    index[min]=-1;
  }
  return sorted;
}
