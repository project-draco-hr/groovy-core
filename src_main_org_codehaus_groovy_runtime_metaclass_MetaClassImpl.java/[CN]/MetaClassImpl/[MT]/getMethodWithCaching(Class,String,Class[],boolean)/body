{
  if (GroovyCategorySupport.hasCategoryInAnyThread() && !isCallToSuper) {
    return getMethodWithoutCaching(sender,methodName,arguments,isCallToSuper);
  }
 else {
    MethodKey methodKey=new DefaultMethodKey(sender,methodName,arguments,isCallToSuper);
    MetaMethod method=(MetaMethod)methodCache.get(methodKey);
    if (method == null) {
      method=getMethodWithoutCaching(sender,methodName,arguments,isCallToSuper);
      cacheInstanceMethod(methodKey,method);
    }
    return method;
  }
}
