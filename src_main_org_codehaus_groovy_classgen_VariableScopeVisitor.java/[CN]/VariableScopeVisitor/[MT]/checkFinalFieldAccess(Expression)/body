{
  if (!(expression instanceof VariableExpression))   return;
  VariableExpression ve=(VariableExpression)expression;
  Variable v=ve.getAccessedVariable();
  if (v instanceof FieldNode) {
    FieldNode fn=(FieldNode)v;
    int modifiers=fn.getModifiers();
    boolean isFinal=(modifiers & Opcodes.ACC_FINAL) != 0;
    boolean isStatic=(modifiers & Opcodes.ACC_STATIC) != 0;
    boolean error=isFinal && ((isStatic && !inStaticConstructor) || (!isStatic && !inConstructor));
    if (error)     addError("cannot modify" + (isStatic ? " static" : "") + " final field '"+ fn.getName()+ "' outside of "+ (isStatic ? "static initialization block." : "constructor."),expression);
  }
}
