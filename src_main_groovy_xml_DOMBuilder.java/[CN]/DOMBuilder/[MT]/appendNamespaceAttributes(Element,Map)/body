{
  for (Iterator iter=attributes.entrySet().iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    Object key=entry.getKey();
    Object value=entry.getValue();
    if (value == null) {
      throw new IllegalArgumentException("The value of key: " + key + " cannot be null");
    }
    if (key instanceof String) {
      String prefix=(String)key;
      element.setAttributeNS("",prefix,value.toString());
    }
 else     if (key instanceof QName) {
      QName qname=(QName)key;
      element.setAttributeNS(qname.getNamespaceURI(),qname.getQualifiedName(),value.toString());
    }
 else {
      throw new IllegalArgumentException("The key: " + key + " should be an instanceof of "+ QName.class);
    }
  }
}
