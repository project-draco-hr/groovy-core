{
  JWindow window;
  Object owner=properties.remove("owner");
  if ((owner == null) && !containingWindows.isEmpty()) {
    owner=containingWindows.getLast();
  }
  if (owner instanceof Frame) {
    window=new JWindow((Frame)owner);
  }
 else   if (owner instanceof Window) {
    window=new JWindow((Window)owner);
  }
 else {
    window=new JWindow();
  }
  containingWindows.add(window);
  return window;
}
