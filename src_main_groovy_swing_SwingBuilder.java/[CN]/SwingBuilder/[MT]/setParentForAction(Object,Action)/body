{
  try {
    InvokerHelper.setProperty(parent,"action",action);
  }
 catch (  RuntimeException re) {
  }
  Object keyStroke=action.getValue("KeyStroke");
  if (parent instanceof JComponent) {
    JComponent component=(JComponent)parent;
    KeyStroke stroke=null;
    if (keyStroke instanceof String) {
      stroke=KeyStroke.getKeyStroke((String)keyStroke);
    }
 else     if (keyStroke instanceof KeyStroke) {
      stroke=(KeyStroke)keyStroke;
    }
    if (stroke != null) {
      String key=action.toString();
      component.getInputMap().put(stroke,key);
      component.getActionMap().put(key,action);
    }
  }
}
