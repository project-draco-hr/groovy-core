{
  if (ENABLED) {
    char[] value=(char[])UNSAFE.getObject(string,STRING_VALUE_FIELD_OFFSET);
    if (STRING_OFFSET_FIELD_OFFSET != -1) {
      Integer offset=(Integer)UNSAFE.getObject(string,STRING_OFFSET_FIELD_OFFSET);
      Integer count=(Integer)UNSAFE.getObject(string,STRING_COUNT_FIELD_OFFSET);
      if ((offset == null || value == null) || (offset == 0 && count == value.length)) {
        return value;
      }
 else {
        char result[]=new char[count];
        System.arraycopy(value,offset,result,0,count);
        return result;
      }
    }
 else {
      return value;
    }
  }
 else {
    return string.toCharArray();
  }
}
