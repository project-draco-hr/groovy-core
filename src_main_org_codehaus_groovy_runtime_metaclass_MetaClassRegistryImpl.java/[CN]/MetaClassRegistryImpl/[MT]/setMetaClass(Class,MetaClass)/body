{
  version=new Integer(version.intValue() + 1);
  final ClassInfo info=ClassInfo.getClassInfo(theClass);
  info.lock();
  try {
    info.setStrongMetaClass(theMetaClass);
    info.setWeakMetaClass(null);
    final CachedClass aClass=info.getCachedClass(theClass);
    aClass.setStaticMetaClassField(theMetaClass);
    aClass.setMetaClassForClass(theMetaClass,true);
  }
  finally {
    info.unlock();
  }
}
