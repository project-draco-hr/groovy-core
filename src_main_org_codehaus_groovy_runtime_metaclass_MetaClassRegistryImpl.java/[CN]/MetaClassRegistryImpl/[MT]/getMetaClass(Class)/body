{
  MetaClass answer=null;
  if (constantMetaClassCount != 0)   answer=(MetaClass)constantMetaClasses.get(theClass);
  if (answer != null)   return answer;
synchronized (theClass) {
    answer=(MetaClass)weakMetaClasses.get(theClass);
    if (answer != null)     return answer;
    answer=(MetaClass)AccessController.doPrivileged(new PrivilegedAction(){
      public Object run(){
        MetaClass answer=getMetaClassFor(theClass);
        answer.initialize();
        return answer;
      }
    }
);
    weakMetaClasses.put(theClass,answer);
    return answer;
  }
}
