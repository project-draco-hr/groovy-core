{
  ClassNode rtype=(ClassNode)node.getNodeMetaData(StaticTypesMarker.INFERRED_RETURN_TYPE);
  if (rtype != null && rtype.getAnnotations(TYPECHECKING_INFO_NODE).isEmpty()) {
    AnnotationNode anno=new AnnotationNode(TYPECHECKING_INFO_NODE);
    anno.setMember("version",CURRENT_SIGNATURE_PROTOCOL);
    SignatureCodec codec=SignatureCodecFactory.getCodec(CURRENT_SIGNATURE_PROTOCOL_VERSION);
    String genericsSignature=codec.encode(rtype);
    if (genericsSignature != null) {
      ConstantExpression signature=new ConstantExpression(genericsSignature);
      signature.setType(STRING_TYPE);
      anno.setMember("inferredType",signature);
      node.addAnnotation(anno);
    }
  }
}
