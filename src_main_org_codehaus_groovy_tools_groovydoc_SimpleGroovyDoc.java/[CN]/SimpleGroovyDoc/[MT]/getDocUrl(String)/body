{
  if (type == null || type.indexOf('.') == -1)   return type;
  final String[] target=type.split("#");
  String shortClassName=target[0].replaceAll(".*\\.","");
  String packageName=type.substring(0,type.length() - shortClassName.length() - 2);
  shortClassName+=(target.length > 1 ? "#" + target[1].split("\\(")[0] : "");
  for (int i=0; i < links.size(); i++) {
    Groovydoc.LinkArgument linkArgument=(Groovydoc.LinkArgument)links.get(i);
    final StringTokenizer tokenizer=new StringTokenizer(linkArgument.getPackages(),", ");
    while (tokenizer.hasMoreTokens()) {
      final String token=tokenizer.nextToken();
      if (type.startsWith(token)) {
        String apiBaseUrl=linkArgument.getHref();
        if (!apiBaseUrl.endsWith("/")) {
          apiBaseUrl+="/";
        }
        String url=apiBaseUrl + target[0].replaceAll("\\.","/") + ".html"+ (target.length > 1 ? "#" + target[1] : "");
        return "<a href='" + url + "' title='"+ shortClassName+ "'>"+ shortClassName+ "</a>";
      }
    }
  }
  return type;
}
