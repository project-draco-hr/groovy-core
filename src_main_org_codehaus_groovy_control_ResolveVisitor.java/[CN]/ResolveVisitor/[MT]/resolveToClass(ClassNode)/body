{
  String name=type.getName();
  if (cachedClasses.get(name) == NO_CLASS)   return false;
  if (currentClass.getModule().hasPackageName() && name.indexOf('.') == -1)   return false;
  GroovyClassLoader loader=compilationUnit.getClassLoader();
  Class cls=null;
  try {
    cls=loader.loadClass(name,false,true);
  }
 catch (  ClassNotFoundException cnfe) {
    cachedClasses.put(name,SCRIPT);
    return false;
  }
catch (  CompilationFailedException cfe) {
    compilationUnit.getErrorCollector().addErrorAndContinue(new ExceptionMessage(cfe,true,source));
    return false;
  }
  if (cls == null)   return false;
  cachedClasses.put(name,cls);
  setClass(type,cls);
  return cls.getClassLoader() == loader;
}
