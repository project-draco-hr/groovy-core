{
  List annotations=node.getAnnotations();
  if (annotations.isEmpty())   return;
  Iterator it=annotations.iterator();
  while (it.hasNext()) {
    AnnotationNode an=(AnnotationNode)it.next();
    if (an.isBuiltIn())     continue;
    ClassNode type=an.getClassNode();
    resolveOrFail(type,",  unable to find class for annotation",an);
    for (    Map.Entry member : an.getMembers().entrySet()) {
      Expression memberValue=(Expression)member.getValue();
      Expression newValue=transform(memberValue);
      newValue=transformConstantAttributeExpression(newValue);
      member.setValue(newValue);
      checkAnnotationMemberValue(newValue);
    }
  }
}
