{
  List<AnnotationNode> annotations=node.getAnnotations();
  if (annotations.isEmpty())   return;
  for (  AnnotationNode an : annotations) {
    if (an.isBuiltIn())     continue;
    resolveOrFail(an.getClassNode(),",  unable to find class for annotation",an);
    for (    Map.Entry<String,Expression> member : an.getMembers().entrySet()) {
      Expression newValue=transform(member.getValue());
      newValue=transformInlineConstants(newValue);
      member.setValue(newValue);
      checkAnnotationMemberValue(newValue);
    }
  }
}
