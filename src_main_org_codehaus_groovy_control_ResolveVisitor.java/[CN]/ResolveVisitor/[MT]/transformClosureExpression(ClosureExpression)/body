{
  boolean oldInClosure=inClosure;
  inClosure=true;
  Parameter[] paras=ce.getParameters();
  if (paras != null) {
    for (int i=0; i < paras.length; i++) {
      ClassNode t=paras[i].getType();
      resolveOrFail(t,ce);
    }
  }
  Statement code=ce.getCode();
  if (code != null)   code.visit(this);
  ClosureExpression newCe=new ClosureExpression(paras,code);
  newCe.setVariableScope(ce.getVariableScope());
  newCe.setSourcePosition(ce);
  inClosure=oldInClosure;
  return newCe;
}
