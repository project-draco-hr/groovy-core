{
  boolean itlp=isTopLevelProperty;
  Expression objectExpression=pe.getObjectExpression();
  isTopLevelProperty=!(objectExpression instanceof PropertyExpression);
  objectExpression=transform(objectExpression);
  isTopLevelProperty=itlp;
  pe.setObjectExpression(objectExpression);
  String className=lookupClassName(pe);
  if (className != null) {
    ClassNode type=ClassHelper.make(className);
    if (resolve(type))     return new ClassExpression(type);
  }
  if (isTopLevelProperty)   return correctClassClassChain(pe);
  return pe;
}
