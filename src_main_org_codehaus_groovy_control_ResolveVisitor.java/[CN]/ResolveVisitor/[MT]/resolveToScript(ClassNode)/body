{
  String name=type.getName();
  if (cachedClasses.get(name) == NO_CLASS)   return false;
  if (name.startsWith("java."))   return type.isResolved();
  if (name.indexOf('$') != -1)   return type.isResolved();
  ModuleNode module=currentClass.getModule();
  if (module.hasPackageName() && name.indexOf('.') == -1)   return type.isResolved();
  GroovyClassLoader gcl=compilationUnit.getClassLoader();
  URL url=null;
  try {
    url=gcl.getResourceLoader().loadGroovySource(name);
  }
 catch (  MalformedURLException e) {
  }
  if (url != null) {
    if (type.isResolved()) {
      Class cls=type.getTypeClass();
      if (!isSourceNewer(url,cls))       return true;
      cachedClasses.remove(type.getName());
      type.setRedirect(null);
    }
    compilationUnit.addSource(url);
    currentClass.getCompileUnit().addClassNodeToCompile(type);
    return true;
  }
  return type.isResolved();
}
