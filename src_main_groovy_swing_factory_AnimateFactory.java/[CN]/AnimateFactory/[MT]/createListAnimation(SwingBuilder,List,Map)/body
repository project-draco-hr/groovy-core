{
  Number duration=(Number)properties.get("duration");
  Number interval=(Number)properties.get("interval");
  int divisions=animateRange.size() - 1;
  if (duration == null) {
    if (interval != null) {
      duration=new Long(interval.longValue() * divisions);
    }
 else {
      interval=new Integer(1000 / divisions);
      duration=new Long(interval.longValue() * divisions);
    }
  }
 else   if (interval == null) {
    interval=new Integer(duration.intValue() / divisions);
  }
  properties.put("duration",duration);
  properties.put("interval",interval);
  properties.put("stepSize",new Integer(duration.intValue() / divisions));
  properties.put("reportSteps",Boolean.TRUE);
  properties.put("reportFraction",Boolean.FALSE);
  properties.put("reportElapsed",Boolean.FALSE);
  return new SwingTimerTriggerBinding().createBinding(new ClosureSourceBinding(new Closure(builder){
    public Object call(    Object[] arguments){
      return animateRange.get(((Integer)arguments[0]).intValue());
    }
  }
,new Object[]{new Integer(0)}),null);
}
