{
  ClassNode type=definition.getClassNode();
  if (!type.isResolved())   return;
  Class clazz=type.getTypeClass();
  if (clazz == Retention.class) {
    Expression exp=definition.getMember("value");
    if (!(exp instanceof PropertyExpression))     return;
    PropertyExpression pe=(PropertyExpression)exp;
    String name=pe.getPropertyAsString();
    RetentionPolicy policy=RetentionPolicy.valueOf(name);
    setRetentionPolicy(policy,root);
  }
 else   if (clazz == Target.class) {
    Expression exp=definition.getMember("value");
    if (!(exp instanceof ListExpression))     return;
    ListExpression le=(ListExpression)exp;
    int bitmap=0;
    for (Iterator it=le.getExpressions().iterator(); it.hasNext(); ) {
      PropertyExpression element=(PropertyExpression)it.next();
      String name=element.getPropertyAsString();
      ElementType value=ElementType.valueOf(name);
      bitmap|=getElementCode(value);
    }
    root.setAllowedTargets(bitmap);
  }
}
