{
  String uri=aUri;
  Matcher matcher=resourceNameMatcher;
  if (matcher != null) {
    matcher.reset(uri);
    String replaced;
    if (resourceNameReplaceAll) {
      replaced=matcher.replaceAll(resourceNameReplacement);
    }
 else {
      replaced=matcher.replaceFirst(resourceNameReplacement);
    }
    if (!uri.equals(replaced)) {
      if (verbose) {
        log("Replaced resource name \"" + uri + "\" with \""+ replaced+ "\".");
      }
      uri=replaced;
    }
  }
  return uri;
}
