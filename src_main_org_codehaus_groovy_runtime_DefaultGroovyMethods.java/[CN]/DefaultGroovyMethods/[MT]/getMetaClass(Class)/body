{
  MetaClassRegistry metaClassRegistry=GroovySystem.getMetaClassRegistry();
  MetaClass mc=metaClassRegistry.getMetaClass(c);
  if (mc instanceof ExpandoMetaClass)   return (ExpandoMetaClass)mc;
 else {
    ExpandoMetaClass emc=new ExpandoMetaClass(c,true);
    emc.initialize();
    emc.setAllowChangesAfterInit(true);
    metaClassRegistry.setMetaClass(c,emc);
    return emc;
  }
}
