{
  if (to instanceof BigDecimal) {
    BigDecimal one=new BigDecimal(1.0);
    for (BigDecimal i=new BigDecimal(self), size=(BigDecimal)to; i.compareTo(size) <= 0; i=i.add(one)) {
      closure.call(i);
    }
  }
 else   if (to instanceof BigInteger) {
    BigInteger one=new BigInteger("1");
    for (BigInteger i=self, size=(BigInteger)to; i.compareTo(size) <= 0; i=i.add(one)) {
      closure.call(i);
    }
  }
 else {
    BigInteger one=new BigInteger("1");
    for (BigInteger i=self, size=new BigInteger("" + to); i.compareTo(size) <= 0; i=i.add(one)) {
      closure.call(i);
    }
  }
}
