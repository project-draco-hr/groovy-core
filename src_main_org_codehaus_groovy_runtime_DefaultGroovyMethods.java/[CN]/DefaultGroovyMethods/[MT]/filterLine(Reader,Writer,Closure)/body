{
  BufferedReader br=new BufferedReader(reader);
  BufferedWriter bw=new BufferedWriter(writer);
  String line;
  while ((line=br.readLine()) != null) {
    if (InvokerHelper.asBool(closure.call(line))) {
      bw.write(line);
      bw.newLine();
    }
  }
  bw.flush();
}
