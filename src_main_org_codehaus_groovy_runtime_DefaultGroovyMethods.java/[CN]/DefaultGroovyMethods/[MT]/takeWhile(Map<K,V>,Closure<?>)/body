{
  if (self.isEmpty()) {
    return createSimilarMap(self);
  }
  Map<K,V> ret=createSimilarMap(self);
  for (  Map.Entry<K,V> entry : self.entrySet()) {
    if (!DefaultTypeTransformation.castToBoolean(callClosureForMapEntry(condition,entry)))     break;
    ret.put(entry.getKey(),entry.getValue());
  }
  return ret;
}
