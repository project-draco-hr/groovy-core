{
  boolean isTwoParams=(closure.getParameterTypes().length == 2);
  Map<Object,Integer> answer=new LinkedHashMap<Object,Integer>();
  for (Iterator iter=self.entrySet().iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    if (isTwoParams) {
      countAnswer(answer,closure.call(new Object[]{entry.getKey(),entry.getValue()}));
    }
 else {
      countAnswer(answer,closure.call(entry));
    }
  }
  return answer;
}
