{
  Map answer=createSimilarMap(self);
  for (Iterator iter=self.entrySet().iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    if (DefaultTypeTransformation.castToBoolean(callClosureForMapEntry(closure,entry))) {
      answer.put(entry.getKey(),entry.getValue());
    }
  }
  return answer;
}
