{
  if (left == null) {
    return right == null;
  }
 else   if (right == null) {
    return false;
  }
 else   if (left.size() != right.size()) {
    return false;
  }
 else {
    final NumberComparator numberComparator=new NumberComparator();
    final Iterator it1=left.iterator(), it2=right.iterator();
    while (it1.hasNext()) {
      final Object o1=it1.next();
      final Object o2=it2.next();
      if (o1 == null) {
        if (o2 != null)         return false;
      }
 else {
        if (o1 instanceof Number) {
          if (!(o2 instanceof Number && numberComparator.compare(o1,o2) == 0)) {
            return false;
          }
        }
 else {
          if (!((Boolean)InvokerHelper.invokeMethod(o1,"equals",new Object[]{o2})).booleanValue())           return false;
        }
      }
    }
    return true;
  }
}
