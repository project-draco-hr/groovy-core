{
  int from=DefaultTypeTransformation.intUnbox(range.getFrom());
  int to=DefaultTypeTransformation.intUnbox(range.getTo());
  BitSet result=new BitSet();
  if (range.isReverse()) {
    for (int index=to; index >= from; index--) {
      result.set(to - index,self.get(index));
    }
  }
 else {
    for (int index=from; index <= to; index++) {
      result.set(index - from,self.get(index));
    }
  }
  return result;
}
