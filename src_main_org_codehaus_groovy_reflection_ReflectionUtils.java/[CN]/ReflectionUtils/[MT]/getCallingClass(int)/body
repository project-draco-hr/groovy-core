{
  if (magicMethod == null) {
    return null;
  }
  int depth=0;
  try {
    Class c;
    do {
      do {
        c=(Class)magicMethod.invoke(null,depth++);
      }
 while ((c != null) && (c.isSynthetic() || (c.getPackage() != null && ignoredPackages.contains(c.getPackage().getName()))));
    }
 while (c != null && matchLevel-- > 0);
    return c;
  }
 catch (  Exception e) {
    return null;
  }
}
