{
  Variable v=null;
  if (exp instanceof VariableExpression) {
    VariableExpression ve=(VariableExpression)exp;
    v=ve.getAccessedVariable();
  }
 else   if (exp instanceof FieldExpression) {
    FieldExpression fe=(FieldExpression)exp;
    v=fe.getField();
  }
  if (v != null) {
    if (!v.isClosureSharedVariable()) {
      return v.getOriginType();
    }
 else {
      return ClassHelper.OBJECT_TYPE;
    }
  }
  return exp.getType();
}
