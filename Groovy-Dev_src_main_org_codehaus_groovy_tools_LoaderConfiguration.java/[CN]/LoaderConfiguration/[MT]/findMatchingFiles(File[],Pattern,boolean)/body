{
  for (int i=0; i < files.length; i++) {
    File file=files[i];
    String fileString=getSlashyPath(file.getPath());
    Matcher m=pattern.matcher(fileString);
    if (m.matches() && file.isFile()) {
      addFile(file);
    }
    if (file.isDirectory() && recursive) {
      final File[] dirFiles=file.listFiles();
      if (dirFiles != null) {
        findMatchingFiles(dirFiles,pattern,true);
      }
    }
  }
}
