{
  if (from instanceof Short && to instanceof Short) {
    this.from=new Integer(((Short)from).intValue());
    this.to=new Integer(((Short)to).intValue());
  }
 else   if (from instanceof Float && to instanceof Float) {
    this.from=new Double(((Float)from).doubleValue());
    this.to=new Double(((Float)to).doubleValue());
  }
 else   if (from.getClass() == to.getClass()) {
    this.from=from;
    this.to=to;
  }
 else {
    this.from=normaliseType(from);
    this.to=normaliseType(to);
  }
  if (from instanceof String || to instanceof String) {
    String start=from.toString();
    String end=to.toString();
    if (start.length() > end.length()) {
      throw new IllegalArgumentException("Incompatible Strings for Range: starting String is longer than ending string");
    }
    int length=Math.min(start.length(),end.length());
    int i;
    for (i=0; i < length; i++) {
      if (start.charAt(i) != end.charAt(i))       break;
    }
    if (i < length - 1) {
      throw new IllegalArgumentException("Incompatible Strings for Range: String#next() will not reach the expected value");
    }
  }
}
