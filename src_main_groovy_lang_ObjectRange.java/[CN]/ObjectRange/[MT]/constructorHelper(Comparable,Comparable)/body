{
  if (from == null) {
    throw new IllegalArgumentException("Must specify a non-null value for the 'from' index in a Range");
  }
  if (to == null) {
    throw new IllegalArgumentException("Must specify a non-null value for the 'to' index in a Range");
  }
  if (from.getClass() == to.getClass()) {
    this.from=from;
    this.to=to;
  }
 else {
    this.from=normaliseType(from);
    this.to=normaliseType(to);
  }
  if (from instanceof String || to instanceof String) {
    String start=from.toString();
    String end=to.toString();
    if (start.length() > end.length()) {
      throw new IllegalArgumentException("Incompatible Strings for Range: starting String is longer than ending string");
    }
    int length=Math.min(start.length(),end.length());
    int i=0;
    for (i=0; i < length; i++) {
      if (start.charAt(i) != end.charAt(i))       break;
    }
    if (i < length - 1) {
      throw new IllegalArgumentException("Incompatible Strings for Range: String#next() will not reach the expected value");
    }
  }
}
