{
  setCacheStatements(true);
  Connection connection=null;
  try {
    connection=createConnection();
    if (closure.getMaximumNumberOfParameters() == 1) {
      closure.call(connection);
    }
 else {
      closure.call();
    }
  }
  finally {
    setCacheStatements(false);
    closeResources(connection,null);
  }
}
