{
  Throwable firstException=null;
  if (errors == null)   return;
  for (Iterator iter=errors.iterator(); iter.hasNext(); ) {
    Message message=(Message)iter.next();
    if (message instanceof ExceptionMessage) {
      ExceptionMessage exceptionMessage=(ExceptionMessage)message;
      firstException=exceptionMessage.getCause();
      if (firstException != null) {
        break;
      }
    }
    if (message instanceof SyntaxErrorMessage) {
      SyntaxErrorMessage exceptionMessage=(SyntaxErrorMessage)message;
      firstException=exceptionMessage.getCause();
      if (firstException != null) {
        break;
      }
    }
  }
  if (firstException != null) {
    throw new CompilationFailedException(phase,this,firstException);
  }
 else {
    throw new CompilationFailedException(phase,this);
  }
}
