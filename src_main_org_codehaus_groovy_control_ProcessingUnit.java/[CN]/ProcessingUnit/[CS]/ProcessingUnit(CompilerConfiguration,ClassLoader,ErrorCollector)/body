{
  this.phase=Phases.INITIALIZATION;
  ClassLoader parent=Thread.currentThread().getContextClassLoader();
  if (parent == null)   parent=ProcessingUnit.class.getClassLoader();
  this.classLoader=(classLoader == null ? new GroovyClassLoader(parent,configuration) : classLoader);
  configure((configuration == null ? new CompilerConfiguration() : configuration));
  if (er == null)   er=new ErrorCollector(getConfiguration());
  this.errorCollector=er;
}
