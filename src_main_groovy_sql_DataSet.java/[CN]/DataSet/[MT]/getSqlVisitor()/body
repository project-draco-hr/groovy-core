{
  if (visitor == null) {
    visitor=new SqlWhereVisitor();
    if (where != null) {
      ClassNode classNode=where.getMetaClass().getClassNode();
      if (classNode == null) {
        throw new GroovyRuntimeException("Could not find the ClassNode for MetaClass: " + where.getMetaClass());
      }
      MethodNode method=classNode.getMethod("doCall");
      Statement statement=method.getCode();
      if (statement != null) {
        statement.visit(visitor);
      }
    }
  }
  return visitor;
}
