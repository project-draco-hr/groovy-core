{
  LinkedList superClasses=new LinkedList();
  for (Class c=theClass; c != null; c=c.getSuperclass()) {
    superClasses.addFirst(c);
  }
  if (theClass.isArray() && theClass != Object[].class && !theClass.getComponentType().isPrimitive()) {
    superClasses.addFirst(Object[].class);
  }
  for (Iterator iter=superClasses.iterator(); iter.hasNext(); ) {
    Class c=(Class)iter.next();
    addMethods(c);
  }
  Set interfaces=new HashSet();
  makeInterfaceSet(theClass,interfaces);
  inheritMethods(superClasses,classMethodIndex);
  inheritInterfaceMethods(interfaces);
  copyClassMethodIndexForSuper();
  connectMultimethods(superClasses);
  populateInterfaces(interfaces);
  removeMultimethodsOverloadedWithPrivateMethods();
  replaceWithMOPCalls();
}
