{
  if (((MetaClassRegistryImpl)registry).useAccessible()) {
    AccessController.doPrivileged(new PrivilegedAction(){
      public Object run(){
        method.setAccessible(true);
        return null;
      }
    }
);
  }
  MetaMethod answer=new MetaMethod(method);
  if (isValidReflectorMethod(answer)) {
    allMethods.add(answer);
    answer.setMethodIndex(allMethods.size());
  }
 else {
    answer=new ReflectionMetaMethod(method);
  }
  if (GroovySystem.isUseReflection()) {
    return new ReflectionMetaMethod(method);
  }
  return answer;
}
