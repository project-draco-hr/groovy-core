{
  if (GroovyCategorySupport.hasCategoryInAnyThread() && !isCallToSuper) {
    return getMethodWithoutCaching(sender,methodName,arguments,isCallToSuper);
  }
 else {
    MethodKey methodKey=new DefaultMethodKey(sender,methodName,arguments,isCallToSuper);
    MetaMethod method=(MetaMethod)methodCache.get(methodKey);
    if (method == null) {
      method=getMethodWithoutCaching(sender,methodName,arguments,isCallToSuper);
      if (method == null)       method=NULL_METHOD;
      cacheInstanceMethod(methodKey,method);
      if (method == NULL_METHOD)       method=null;
    }
 else {
      if (method == NULL_METHOD)       method=null;
    }
    return method;
  }
}
