{
  final MetaClass metaClass=receiver.getMetaClass();
  if (metaClass.getTheClass() != receiver.getClass()) {
    return new PogoGetPropertySite(this,metaClass.getTheClass());
  }
  CallSite site;
  if (metaClass.getClass() != MetaClassImpl.class || GroovyCategorySupport.hasCategoryInCurrentThread()) {
    site=new PogoMetaClassGetPropertySite(this,metaClass);
  }
 else {
    final MetaProperty effective=((MetaClassImpl)metaClass).getEffectiveGetMetaProperty(metaClass.getClass(),receiver,name,false);
    if (effective != null) {
      if (effective instanceof CachedField)       site=new GetEffectivePogoFieldSite(this,metaClass,(CachedField)effective);
 else       site=new GetEffectivePogoPropertySite(this,metaClass,effective);
    }
 else {
      site=new PogoMetaClassGetPropertySite(this,metaClass);
    }
  }
  array.array[index]=site;
  return site;
}
