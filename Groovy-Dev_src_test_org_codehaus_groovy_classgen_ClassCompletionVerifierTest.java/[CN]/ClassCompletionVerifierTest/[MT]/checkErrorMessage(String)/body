{
  assertTrue("Expected an error message but none found.",source.getErrorCollector().hasErrors());
  assertTrue("Expected message to contain <" + expectedErrorMessage + "> but was <"+ flattenErrorMessage()+ ">.",flattenErrorMessage().indexOf(expectedErrorMessage) != -1);
}
