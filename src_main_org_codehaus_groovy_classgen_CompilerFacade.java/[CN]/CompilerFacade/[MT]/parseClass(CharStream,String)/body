{
  try {
    Lexer lexer=new Lexer(charStream);
    Parser parser=new Parser(new LexerTokenStream(lexer));
    CSTNode compilationUnit=parser.compilationUnit();
    ASTBuilder astBuilder=new ASTBuilder(classLoader);
    ModuleNode module=astBuilder.build(compilationUnit);
    unit.addModule(module);
    module.setDescription(file);
    GeneratorContext context=new GeneratorContext(unit);
    for (Iterator iter=module.getClasses().iterator(); iter.hasNext(); ) {
      generateClass(context,(ClassNode)iter.next(),file);
    }
  }
 catch (  ReadException e) {
    throw e.getIOCause();
  }
catch (  ExceptionCollector e) {
    throw (SyntaxException)e.get(0);
  }
}
