{
  InputStream in=new FileInputStream("src/test/org/codehaus/groovy/classgen/Main.groovy");
  Class groovyClass=loader.parseClass(in);
  System.out.println("Invoking main...");
  GroovyObject object=(GroovyObject)groovyClass.newInstance();
  assertTrue(object != null);
  Field field=object.getClass().getDeclaredField("metaClass");
  assertTrue("Found metaclass field",field != null);
  Object metaClassObject=field.get(object);
  assertTrue("Found metaclass",metaClassObject != null && metaClassObject instanceof MetaClass);
  MetaClass metaClass=(MetaClass)metaClassObject;
  System.out.println("Metaclass: " + metaClass);
  Class type=object.getClass();
  System.out.println("Type: " + type);
  metaClass.invokeMethod(object,"main",null);
  object.invokeMethod("main",null);
}
