{
  if (name.equals(this.classNode.getName())) {
    return Object.class;
  }
  if (name == null) {
    return null;
  }
 else   if (name.length() == 0) {
    return Object.class;
  }
 else   if ("void".equals(name)) {
    return void.class;
  }
 else   if ("boolean".equals(name)) {
    return boolean.class;
  }
 else   if ("byte".equals(name)) {
    return byte.class;
  }
 else   if ("short".equals(name)) {
    return short.class;
  }
 else   if ("char".equals(name)) {
    return char.class;
  }
 else   if ("int".equals(name)) {
    return int.class;
  }
 else   if ("long".equals(name)) {
    return long.class;
  }
 else   if ("float".equals(name)) {
    return float.class;
  }
 else   if ("double".equals(name)) {
    return double.class;
  }
  name=BytecodeHelper.formatNameForClassLoading(name);
  try {
    Class cls=(Class)classCache.get(name);
    if (cls != null)     return cls;
    CompileUnit compileUnit=getCompileUnit();
    if (compileUnit != null) {
      cls=compileUnit.loadClass(name);
      classCache.put(name,cls);
      return cls;
    }
 else {
      throw new ClassGeneratorException("Could not load class: " + name);
    }
  }
 catch (  ClassNotFoundException e) {
    throw new ClassGeneratorException("Error when compiling class: " + classNode.getName() + ". Reason: could not load class: "+ name+ " reason: "+ e,e);
  }
}
