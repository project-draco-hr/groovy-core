{
  MetaClass.setUseReflection(true);
  int length=args.length;
  if (length <= 0) {
    System.out.println("Usage: Groovy groovyScript [arguments]");
    return;
  }
  String scriptName=args[0];
  int p=scriptName.lastIndexOf(".");
  if (p++ >= 0) {
    if (scriptName.substring(p).equals("java")) {
      System.err.println("error: cannot compile file with .java extension: " + scriptName);
    }
 else {
      String[] newArgs=new String[length - 1];
      if (length > 1) {
        System.arraycopy(args,1,newArgs,0,length - 1);
      }
      try {
        GroovyShell groovy=new GroovyShell();
        groovy.run(new File(scriptName),newArgs);
      }
 catch (      Exception e) {
        System.out.println("Caught: " + e);
        e.printStackTrace();
      }
    }
  }
}
