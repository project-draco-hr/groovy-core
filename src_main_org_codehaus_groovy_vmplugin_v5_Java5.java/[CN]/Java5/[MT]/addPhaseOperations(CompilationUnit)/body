{
  Map<Integer,ASTAnnotationTransformationCodeVisitor> transformationVisitors=new HashMap<Integer,ASTAnnotationTransformationCodeVisitor>();
  ASTAnnotationTransformationCollectorCodeVisitor annotCollector=new ASTAnnotationTransformationCollectorCodeVisitor(transformationVisitors);
  unit.addPhaseOperation(annotCollector.getOperation(),Phases.SEMANTIC_ANALYSIS);
  for (int i=Phases.SEMANTIC_ANALYSIS; i <= Phases.ALL; i++) {
    ASTAnnotationTransformationCodeVisitor TransformationVisitor=new ASTAnnotationTransformationCodeVisitor();
    transformationVisitors.put(Integer.valueOf(i),TransformationVisitor);
    unit.addPhaseOperation(TransformationVisitor.getOperation(),i);
  }
}
