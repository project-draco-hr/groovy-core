{
  Map<Integer,ASTTransformationCodeVisitor> transformationVisitors=new HashMap<Integer,ASTTransformationCodeVisitor>();
  ASTTransformationCollectorCodeVisitor annotCollector=new ASTTransformationCollectorCodeVisitor(transformationVisitors);
  unit.addPhaseOperation(annotCollector.getOperation(),Phases.SEMANTIC_ANALYSIS);
  for (int i=Phases.SEMANTIC_ANALYSIS; i <= Phases.ALL; i++) {
    ASTTransformationCodeVisitor TransformationVisitor=new ASTTransformationCodeVisitor();
    transformationVisitors.put(Integer.valueOf(i),TransformationVisitor);
    unit.addPhaseOperation(TransformationVisitor.getOperation(),i);
  }
}
