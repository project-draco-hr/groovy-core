{
  Class type=annotation.annotationType();
  if (type == Retention.class) {
    Retention r=(Retention)annotation;
    RetentionPolicy value=r.value();
    setRetentionPolicy(value,node);
    node.setMember("value",new PropertyExpression(new ClassExpression(ClassHelper.makeWithoutCaching(RetentionPolicy.class,false)),value.toString()));
  }
 else   if (type == Target.class) {
    Target t=(Target)annotation;
    ElementType[] elements=t.value();
    int bitmap=0;
    for (int i=0; i < elements.length; i++) {
      bitmap|=getElementCode(elements[i]);
    }
    node.setAllowedTargets(bitmap);
  }
}
