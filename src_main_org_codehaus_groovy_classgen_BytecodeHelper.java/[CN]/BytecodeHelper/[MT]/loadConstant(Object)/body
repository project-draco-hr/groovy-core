{
  if (value == null) {
    mv.visitInsn(ACONST_NULL);
  }
 else   if (value instanceof String) {
    mv.visitLdcInsn(value);
  }
 else   if (value instanceof Character) {
    String className="java/lang/Character";
    mv.visitTypeInsn(NEW,className);
    mv.visitInsn(DUP);
    mv.visitLdcInsn(value);
    String methodType="(C)V";
    mv.visitMethodInsn(INVOKESPECIAL,className,"<init>",methodType);
  }
 else   if (value instanceof Number) {
    Number n=(Number)value;
    String className=BytecodeHelper.getClassInternalName(value.getClass().getName());
    String methodType;
    if (n instanceof BigDecimal || n instanceof BigInteger) {
      mv.visitTypeInsn(NEW,className);
      mv.visitInsn(DUP);
      mv.visitLdcInsn(n.toString());
      mv.visitMethodInsn(INVOKESPECIAL,className,"<init>","(Ljava/lang/String;)V");
    }
 else {
      if (n instanceof Integer) {
        mv.visitLdcInsn(n);
        methodType="(I)Ljava/lang/Integer;";
      }
 else       if (n instanceof Double) {
        mv.visitLdcInsn(n);
        methodType="(D)Ljava/lang/Double;";
      }
 else       if (n instanceof Float) {
        mv.visitLdcInsn(n);
        methodType="(F)Ljava/lang/Float;";
      }
 else       if (n instanceof Long) {
        mv.visitLdcInsn(n);
        methodType="(J)Ljava/lang/Long;";
      }
 else       if (n instanceof Short) {
        mv.visitLdcInsn(n);
        methodType="(S)Ljava/lang/Short;";
      }
 else       if (n instanceof Byte) {
        mv.visitLdcInsn(n);
        methodType="(B)Ljava/lang/Byte;";
      }
 else {
        throw new ClassGeneratorException("Cannot generate bytecode for constant: " + value + " of type: "+ value.getClass().getName()+ ".  Numeric constant type not supported.");
      }
      mv.visitMethodInsn(INVOKESTATIC,className,"valueOf",methodType);
    }
  }
 else   if (value instanceof Boolean) {
    Boolean bool=(Boolean)value;
    String text=(bool.booleanValue()) ? "TRUE" : "FALSE";
    mv.visitFieldInsn(GETSTATIC,"java/lang/Boolean",text,"Ljava/lang/Boolean;");
  }
 else   if (value instanceof Class) {
    Class vc=(Class)value;
    if (vc.getName().equals("java.lang.Void")) {
    }
 else {
      throw new ClassGeneratorException("Cannot generate bytecode for constant: " + value + " of type: "+ value.getClass().getName());
    }
  }
 else {
    throw new ClassGeneratorException("Cannot generate bytecode for constant: " + value + " of type: "+ value.getClass().getName());
  }
}
