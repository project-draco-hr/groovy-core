{
  String answer=null;
  if (type != null) {
    if (getName().equals(type) || getNameWithoutPackage().equals(type)) {
      return getName();
    }
    answer=tryResolveClassAndInnerClass(type);
    String replacedPointType=type;
    while (answer == null && replacedPointType.indexOf('.') > -1) {
      int lastPoint=replacedPointType.lastIndexOf('.');
      replacedPointType=new StringBuffer().append(replacedPointType.substring(0,lastPoint)).append("$").append(replacedPointType.substring(lastPoint + 1)).toString();
      answer=tryResolveClassAndInnerClass(replacedPointType);
    }
  }
  return answer;
}
