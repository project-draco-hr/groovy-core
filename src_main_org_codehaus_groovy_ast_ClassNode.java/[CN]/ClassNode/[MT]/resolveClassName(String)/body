{
  String answer=null;
  if (type != null) {
    if (getName().equals(type) || getNameWithoutPackage().equals(type)) {
      return getName();
    }
    answer=tryResolveClassFromCompileUnit(type);
    if (answer == null) {
      String packageName=getPackageName();
      if (packageName != null && packageName.length() > 0) {
        answer=tryResolveClassFromCompileUnit(packageName + "." + type);
      }
    }
    if (answer == null) {
      if (module != null) {
        for (Iterator iter=module.getImportPackages().iterator(); iter.hasNext(); ) {
          String packageName=(String)iter.next();
          answer=tryResolveClassFromCompileUnit(packageName + type);
          if (answer != null) {
            return answer;
          }
        }
      }
    }
    if (answer == null) {
      for (int i=0, size=defaultImports.length; i < size; i++) {
        String packagePrefix=defaultImports[i];
        answer=tryResolveClassFromCompileUnit(packagePrefix + "." + type);
        if (answer != null) {
          return answer;
        }
      }
    }
  }
  return answer;
}
