{
  if (type != null) {
    if (getNameWithoutPackage().equals(type)) {
      return getName();
    }
    for (int i=0; i < 2; i++) {
      CompileUnit compileUnit=getCompileUnit();
      if (compileUnit != null) {
        if (compileUnit.getClass(type) != null) {
          return type;
        }
        try {
          compileUnit.loadClass(type);
          return type;
        }
 catch (        Throwable e) {
        }
      }
      String packageName=getPackageName();
      if (packageName == null || packageName.length() <= 0) {
        break;
      }
      type=packageName + "." + type;
    }
  }
  return null;
}
