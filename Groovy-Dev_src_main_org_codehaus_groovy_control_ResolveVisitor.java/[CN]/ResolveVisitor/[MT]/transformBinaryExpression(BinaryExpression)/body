{
  Expression left=transform(be.getLeftExpression());
  int type=be.getOperation().getType();
  if ((type == Types.ASSIGNMENT_OPERATOR || type == Types.EQUAL) && left instanceof ClassExpression) {
    ClassExpression ce=(ClassExpression)left;
    String error="you tried to assign a value to the class '" + ce.getType().getName() + "'";
    if (ce.getType().isScript()) {
      error+=". Do you have a script with this name?";
    }
    addError(error,be.getLeftExpression());
    return be;
  }
  if (left instanceof ClassExpression && be.getRightExpression() instanceof ListExpression) {
    ListExpression list=(ListExpression)be.getRightExpression();
    if (list.getExpressions().isEmpty()) {
      return new ClassExpression(left.getType().makeArray());
    }
  }
  Expression right=transform(be.getRightExpression());
  be.setLeftExpression(left);
  be.setRightExpression(right);
  return be;
}
