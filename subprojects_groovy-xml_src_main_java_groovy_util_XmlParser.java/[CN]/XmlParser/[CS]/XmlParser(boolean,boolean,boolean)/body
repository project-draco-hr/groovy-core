{
  SAXParserFactory factory=FactorySupport.createSaxParserFactory();
  factory.setNamespaceAware(namespaceAware);
  this.namespaceAware=namespaceAware;
  factory.setValidating(validating);
  factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING,true);
  factory.setFeature("http://apache.org/xml/features/disallow-doctype-decl",!allowDocTypeDeclaration);
  reader=factory.newSAXParser().getXMLReader();
}
