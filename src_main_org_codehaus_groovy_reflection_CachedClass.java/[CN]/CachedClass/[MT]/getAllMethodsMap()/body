{
  if (allMethodsMap == null) {
    allMethodsMap=new HashMap();
    final Set interfaces=getInterfaces();
    for (Iterator it=interfaces.iterator(); it.hasNext(); ) {
      CachedClass iface=(CachedClass)it.next();
      allMethodsMap.putAll(iface.getAllMethodsMap());
    }
    CachedClass superClass=getCachedSuperClass();
    if (superClass != null)     allMethodsMap.putAll(superClass.getAllMethodsMap());
    getMethods();
    for (int i=0; i < methods.length; i++) {
      CachedMethod method=methods[i];
      if (!Modifier.isPrivate(method.getModifiers())) {
        allMethodsMap.put(method.getSignature(),method);
      }
    }
  }
  return allMethodsMap;
}
