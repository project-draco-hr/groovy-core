{
  if (referenceResolver instanceof ReferenceResolver) {
    this.referenceResolver=(ReferenceResolver)referenceResolver;
  }
 else   if (referenceResolver instanceof Closure) {
    this.referenceResolver=new ReferenceResolver(){
      public String getReferenceFor(      String nodeName){
        return (String)(((Closure)referenceResolver).call(new Object[]{nodeName}));
      }
    }
;
  }
 else {
    this.referenceResolver=new DefaultReferenceResolver();
  }
}
