{
  Map<ASTTransformation,ASTNode> baseTransforms=classNode.getTransforms(phase);
  if (!baseTransforms.isEmpty()) {
    transforms=new HashMap<ASTNode,List<ASTTransformation>>();
    for (    Map.Entry<ASTTransformation,ASTNode> entry : baseTransforms.entrySet()) {
      List<ASTTransformation> list=transforms.get(entry.getValue());
      if (list == null) {
        list=new ArrayList<ASTTransformation>();
        transforms.put(entry.getValue(),list);
      }
      list.add(entry.getKey());
    }
    targetNodes=new LinkedList<ASTNode[]>();
    super.visitClass(classNode);
    for (    ASTNode[] node : targetNodes) {
      for (      ASTTransformation snt : transforms.get(node[0])) {
        snt.visit(node,source);
      }
    }
  }
}
