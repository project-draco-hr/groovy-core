{
  GroovyObject object=assertCompileWorks("class UnknownClass {\n" + "    void main(args) {\n" + "        def x = UnknownThingy\n"+ "    }\n"+ "}\n");
  try {
    object.invokeMethod("main",new String[]{});
    fail("Should have thrown exception due to unknown property");
  }
 catch (  MissingPropertyException e) {
    assertEquals("UnknownThingy",e.getProperty());
  }
}
