{
  if (node.getAnnotations().isEmpty()) {
    return;
  }
  this.currentClass.setAnnotated(true);
  if (!isAnnotationCompatible()) {
    addError("Annotations are not supported in the current runtime." + JVM_ERROR_MESSAGE,node);
    return;
  }
  Collection annotations=node.getAnnotations();
  for (Iterator it=annotations.iterator(); it.hasNext(); ) {
    AnnotationNode an=(AnnotationNode)it.next();
    AnnotationNode annotation=visitAnnotation(an);
    if (!annotation.isTargetAllowed(target)) {
      addError("Annotation @" + annotation.getClassNode().getName() + " is not allowed on element "+ AnnotationNode.targetToName(target),annotation);
    }
  }
}
