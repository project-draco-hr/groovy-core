{
  if (UNKNOWN_PARAMETER_TYPE == type)   return true;
  if (toBeAssignedTo.redirect() == STRING_TYPE && type.redirect() == GSTRING_TYPE) {
    return true;
  }
  if (isPrimitiveType(toBeAssignedTo))   toBeAssignedTo=getWrapper(toBeAssignedTo);
  if (isPrimitiveType(type))   type=getWrapper(type);
  if (ClassHelper.Double_TYPE == toBeAssignedTo) {
    return type.isDerivedFrom(Number_TYPE);
  }
  if (ClassHelper.Float_TYPE == toBeAssignedTo) {
    return type.isDerivedFrom(Number_TYPE) && ClassHelper.Double_TYPE != type;
  }
  if (ClassHelper.Long_TYPE == toBeAssignedTo) {
    return type.isDerivedFrom(Number_TYPE) && ClassHelper.Double_TYPE != type && ClassHelper.Float_TYPE != type;
  }
  if (ClassHelper.Integer_TYPE == toBeAssignedTo) {
    return type.isDerivedFrom(Number_TYPE) && ClassHelper.Double_TYPE != type && ClassHelper.Float_TYPE != type && ClassHelper.Long_TYPE != type;
  }
  if (ClassHelper.Short_TYPE == toBeAssignedTo) {
    return type.isDerivedFrom(Number_TYPE) && ClassHelper.Double_TYPE != type && ClassHelper.Float_TYPE != type && ClassHelper.Long_TYPE != type && ClassHelper.Integer_TYPE != type;
  }
  if (ClassHelper.Byte_TYPE == toBeAssignedTo) {
    return type == ClassHelper.Byte_TYPE;
  }
  if (type.isArray() && toBeAssignedTo.isArray()) {
    return type.getComponentType().equals(toBeAssignedTo.getComponentType());
  }
  if (implementsInterfaceOrIsSubclassOf(type,toBeAssignedTo)) {
    if (OBJECT_TYPE.equals(toBeAssignedTo))     return true;
    if (toBeAssignedTo.isUsingGenerics()) {
      GenericsType gt=GenericsUtils.buildWildcardType(toBeAssignedTo);
      return gt.isCompatibleWith(type);
    }
    return true;
  }
 else {
    return false;
  }
}
