{
  int dist=0;
  ClassNode unwrapReceiver=ClassHelper.getUnwrapper(receiver);
  ClassNode unwrapCompare=ClassHelper.getUnwrapper(compare);
  if (ClassHelper.isPrimitiveType(unwrapReceiver) && ClassHelper.isPrimitiveType(unwrapCompare) && unwrapReceiver != unwrapCompare) {
    dist=getPrimitiveDistance(unwrapReceiver,unwrapCompare);
  }
  if (isPrimitiveType(receiver) && !isPrimitiveType(compare)) {
    dist=(dist + 1) << 1;
  }
  if (receiver.isArray() && !compare.isArray()) {
    dist+=256;
  }
  if (receiver == UNKNOWN_PARAMETER_TYPE) {
    return dist;
  }
  ClassNode ref=receiver;
  while (ref != null) {
    if (compare.equals(ref)) {
      break;
    }
    if (compare.isInterface() && ref.implementsInterface(compare)) {
      dist+=getMaximumInterfaceDistance(ref,compare);
      break;
    }
    ref=ref.getSuperClass();
    if (ref == null)     dist+=2;
    dist=(dist + 1) << 1;
  }
  return dist;
}
