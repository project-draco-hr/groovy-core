{
  try {
    final GroovyObject object=(GroovyObject)scriptClass.newInstance();
    Script script=null;
    if (object instanceof Script) {
      script=(Script)object;
    }
 else {
      script=new Script(){
        public Object run(){
          object.invokeMethod("main",new Object[]{new String[0]});
          return null;
        }
      }
;
    }
    script.setBinding(context);
    return script;
  }
 catch (  Exception e) {
    throw new GroovyRuntimeException("Failed to create Script instance for class: " + scriptClass + ". Reason: "+ e,e);
  }
}
