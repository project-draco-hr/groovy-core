{
  HashMap ret=new HashMap();
  ClassNode stop=sn.getSuperClass();
  for (ClassNode current=classNode; current != null && current.redirect() != stop; current=current.getUnresolvedSuperClass(false)) {
    GenericsType[] sgts=current.getGenericsTypes();
    if (sgts == null) {
      ret.clear();
      continue;
    }
    ClassNode[] spec=new ClassNode[sgts.length];
    for (int i=0; i < spec.length; i++) {
      spec[i]=correctToGenericsSpec(ret,sgts[i].getType());
    }
    GenericsType[] newGts=current.redirect().getGenericsTypes();
    ret.clear();
    for (int i=0; i < spec.length; i++) {
      ret.put(newGts[i].getName(),spec[i]);
    }
  }
  return ret;
}
