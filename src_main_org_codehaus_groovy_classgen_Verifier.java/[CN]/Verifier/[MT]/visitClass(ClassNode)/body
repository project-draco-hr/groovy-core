{
  this.classNode=node;
  if ((classNode.getModifiers() & Opcodes.ACC_INTERFACE) > 0) {
    ConstructorNode dummy=new ConstructorNode(0,null);
    addInitialization(node,dummy);
    node.visitContents(this);
    return;
  }
  checkDuplicateInterfaces();
  addDefaultParameterMethods(node);
  addDefaultParameterConstructors(node);
  final String classInternalName=BytecodeHelper.getClassInternalName(node);
  addStaticMetaClassField(node,classInternalName);
  boolean knownSpecialCase=node.isDerivedFrom(ClassHelper.GSTRING_TYPE) || node.isDerivedFrom(ClassHelper.make(GroovyObjectSupport.class));
  if (!knownSpecialCase)   addGroovyObjectInterfaceAndMethods(node,classInternalName);
  addDefaultConstructor(node);
  if (!(node instanceof InnerClassNode))   addTimeStamp(node);
  addInitialization(node);
  addCovariantMethods(node);
  node.visitContents(this);
}
