{
  rootDocBuilder=new GroovyRootDocBuilder(this,sourcepaths,links,properties);
  String charset=properties.getProperty("charset");
  properties.setProperty("charset",charset != null && charset.length() != 0 ? charset : Charset.defaultCharset().name());
  this.properties=properties;
  if (resourceManager == null) {
    templateEngine=null;
  }
 else {
    templateEngine=new GroovyDocTemplateEngine(this,resourceManager,docTemplates,packageTemplates,classTemplates,properties);
  }
}
