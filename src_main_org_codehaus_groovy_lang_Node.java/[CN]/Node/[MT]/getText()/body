{
  if (value instanceof String) {
    return (String)value;
  }
 else   if (value instanceof Collection) {
    Collection coll=(Collection)value;
    String previousText=null;
    StringBuffer buffer=null;
    for (Iterator iter=coll.iterator(); iter.hasNext(); ) {
      Object child=iter.next();
      if (child instanceof String) {
        String childText=(String)child;
        if (previousText == null) {
          previousText=childText;
        }
 else {
          if (buffer == null) {
            buffer=new StringBuffer();
            buffer.append(previousText);
          }
          buffer.append(childText);
        }
      }
    }
    if (buffer != null) {
      return buffer.toString();
    }
 else {
      if (previousText != null) {
        return previousText;
      }
    }
  }
  return "";
}
