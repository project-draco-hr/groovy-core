{
  SoftRef ref;
  Entry[] tab=table;
  while ((ref=(SoftRef)queue.poll()) != null) {
    Entry entry=ref.entry;
    if (entry == null)     continue;
    ref.entry=null;
    if (entry.key != ref && entry.value != ref)     continue;
    int hash=entry.hash;
    int index=hash & (tab.length - 1);
    Entry first=tab[index];
    for (Entry e=first; e != null; e=e.next) {
      if (e == entry) {
        entry.key.clear();
        entry.setValue(null);
        count--;
        Entry head=e.next;
        for (Entry p=first; p != e; p=p.next)         head=new Entry(p.hash,p.key,p.value,head);
        tab[index]=head;
        recordModification(head);
      }
    }
  }
}
