{
  if (size < threshold)   return;
  waitForWriteState();
  removeStaleEntries();
  if (size < threshold)   return;
  tableSize*=2;
  Entry[] newTable=new Entry[tableSize];
  transfer(table,newTable);
  table=newTable;
  threshold=newThreshold();
}
