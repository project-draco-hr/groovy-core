{
  int hash=key.hashCode();
  lockWrite();
  try {
    int index=index(hash,table.length);
    for (Entry current=table[index]; current != null; current=current.next) {
      if (hash != current.hash)       continue;
      Object oldKey=current.getKey();
      Object oldValue=current.getValue();
      if (!current.isValid())       continue;
      if (key == oldKey || key.equals(oldKey)) {
        return oldValue;
      }
    }
  }
  finally {
    unlockWrite();
  }
  return null;
}
