{
  List answer=new NodeList();
  List nextLevelChildren=getDirectChildren();
  while (!nextLevelChildren.isEmpty()) {
    List working=new NodeList(nextLevelChildren);
    nextLevelChildren=new NodeList();
    for (Iterator iter=working.iterator(); iter.hasNext(); ) {
      Node childNode=(Node)iter.next();
      answer.add(childNode);
      List children=childNode.getDirectChildren();
      nextLevelChildren.addAll(children);
    }
  }
  return answer;
}
