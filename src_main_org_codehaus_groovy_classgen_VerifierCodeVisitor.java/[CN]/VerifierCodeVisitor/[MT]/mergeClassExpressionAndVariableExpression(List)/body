{
  ClassExpression classExpr=null;
  ExpressionStatement lastExpStmt=null;
  List removalList=new ArrayList();
  for (Iterator iter=list.iterator(); iter.hasNext(); ) {
    Statement statement=(Statement)iter.next();
    if (statement instanceof ExpressionStatement) {
      ExpressionStatement expStmt=(ExpressionStatement)statement;
      Expression exp=expStmt.getExpression();
      if (classExpr != null) {
        if (exp instanceof BinaryExpression) {
          BinaryExpression binExpr=(BinaryExpression)exp;
          Expression lhs=binExpr.getLeftExpression();
          if (lhs instanceof VariableExpression) {
            VariableExpression varExp=(VariableExpression)lhs;
            varExp.setType(classExpr.getType());
            removalList.add(lastExpStmt);
          }
        }
      }
      if (exp instanceof ClassExpression) {
        classExpr=(ClassExpression)exp;
        lastExpStmt=expStmt;
      }
 else {
        classExpr=null;
        lastExpStmt=null;
      }
    }
  }
  list.removeAll(removalList);
}
