{
  lock();
  try {
    ClassInfo[] oldTable=table;
    ClassInfo first=null;
    int index=classInfo.hash & (oldTable.length - 1);
    for (ClassInfo e=oldTable[index]; e != null; ) {
      if (e.get() != null) {
        if (first == null)         first=e;
        ClassInfo ee=e.next;
        while (ee != null && ee.get() == null)         ee=ee.next;
        e.next=ee;
        e=ee;
      }
 else {
        e=e.next;
      }
    }
    oldTable[index]=first;
  }
  finally {
    unlock();
  }
}
