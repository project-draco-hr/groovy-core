{
  BlockStatement outerThenBlock=new BlockStatement();
  for (  PropertyNode pNode : enumClass.getProperties()) {
    if (pNode.isStatic())     continue;
    BooleanExpression ifTest=new BooleanExpression(new MethodCallExpression(namedArgs,"containsKey",new ConstantExpression(pNode.getName())));
    Expression pExpr=new VariableExpression(pNode);
    Statement thenBlock=assignStatement(pExpr,new PropertyExpression(namedArgs,pNode.getName()));
    IfStatement ifStatement=new IfStatement(ifTest,thenBlock,EmptyStatement.INSTANCE);
    outerThenBlock.addStatement(ifStatement);
  }
  Expression checkArgs=new ArgumentListExpression(new VariableExpression("this"),namedArgs);
  outerThenBlock.addStatement(new ExpressionStatement(new StaticMethodCallExpression(CHECK_METHOD_TYPE,"checkPropNames",checkArgs)));
  return outerThenBlock;
}
