{
  VarScope scope=currentScope;
  currentScope=new VarScope(false,currentScope,scope.isInStaticContext);
  if (expression.isParameterSpecified()) {
    Parameter[] parameters=expression.getParameters();
    for (int i=0; i < parameters.length; i++) {
      declare(parameters[i],expression);
    }
  }
 else {
    Var var=new Var("it",scope);
    if (jroseRule) {
      JRoseCheck check=new JRoseCheck();
      expression.visit(check);
      if (check.itUsed)       declare(var,expression);
    }
 else {
      currentScope.declares.put("it",var);
    }
  }
  super.visitClosureExpression(expression);
  currentScope=scope;
}
