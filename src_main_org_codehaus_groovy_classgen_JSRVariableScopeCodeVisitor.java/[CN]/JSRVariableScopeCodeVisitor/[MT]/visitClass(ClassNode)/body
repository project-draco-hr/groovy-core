{
  VarScope scope=currentScope;
  currentScope=new VarScope(true,currentScope,false);
  boolean scriptModeBackup=scriptMode;
  scriptMode=node.isScript();
  ClassNode classBackup=currentClass;
  currentClass=node;
  HashMap declares=currentScope.declares;
  try {
    addVarNames(node);
    addVarNames(node.getOuterClass(),currentScope.visibles,true);
    addVarNames(node.getSuperClass(),currentScope.visibles,true);
  }
 catch (  ClassNotFoundException cnfe) {
    cnfe.printStackTrace();
  }
  node.visitContents(this);
  currentClass=classBackup;
  currentScope=scope;
  scriptMode=scriptModeBackup;
}
