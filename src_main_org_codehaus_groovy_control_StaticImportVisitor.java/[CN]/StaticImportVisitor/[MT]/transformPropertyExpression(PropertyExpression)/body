{
  boolean oldInPropertyExpression=inPropertyExpression;
  Expression oldFoundArgs=foundArgs;
  Expression oldFoundMethod=foundConstant;
  inPropertyExpression=true;
  foundArgs=null;
  foundConstant=null;
  Expression objectExpression=transform(pe.getObjectExpression());
  if (objectExpression instanceof ClassExpression && currentMethod != null && currentMethod.isStatic()) {
    ClassExpression ce=(ClassExpression)objectExpression;
    if (ce.getType().getName().equals(currentClass.getName())) {
      FieldNode field=currentClass.getField(pe.getPropertyAsString());
      if (field != null && field.isStatic()) {
        Expression expression=new FieldExpression(field);
        expression.setSourcePosition(pe);
        return expression;
      }
    }
  }
  boolean isExplicitThisOrSuper=false;
  if (objectExpression instanceof VariableExpression) {
    VariableExpression ve=(VariableExpression)objectExpression;
    isExplicitThisOrSuper=!pe.isImplicitThis() && (ve.getName().equals("this") || ve.getName().equals("super"));
    if (isExplicitThisOrSuper && currentMethod != null && currentMethod.isStatic()) {
      addError("Non-static variable '" + ve.getName() + "' cannot be referenced from the static method "+ currentMethod.getName()+ ".",pe);
      return null;
    }
  }
  if (foundArgs != null && foundConstant != null) {
    Expression result=findStaticMethodImportFromModule(foundConstant,foundArgs);
    if (result != null) {
      objectExpression=result;
    }
  }
  inPropertyExpression=oldInPropertyExpression;
  foundArgs=oldFoundArgs;
  foundConstant=oldFoundMethod;
  pe.setObjectExpression(objectExpression);
  if (!inSpecialConstructorCall)   checkStaticScope(pe);
  return pe;
}
