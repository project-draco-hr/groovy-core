{
  SwingBuilder.checkValueIsNull(value,name);
  Object current=builder.getCurrent();
  if (current instanceof DefaultTableModel) {
    DefaultTableModel model=(DefaultTableModel)current;
    String property=(String)properties.remove("propertyName");
    if (property == null) {
      throw new IllegalArgumentException("Must specify a property for a propertyColumn");
    }
    Object header=properties.remove("header");
    if (header == null) {
      header="";
    }
    Class type=(Class)properties.remove("type");
    if (type == null) {
      type=Object.class;
    }
    Boolean editable=(Boolean)properties.remove("editable");
    if (editable == null) {
      editable=Boolean.TRUE;
    }
    return model.addPropertyColumn(header,property,type,editable.booleanValue());
  }
 else {
    throw new RuntimeException("propertyColumn must be a child of a tableModel");
  }
}
