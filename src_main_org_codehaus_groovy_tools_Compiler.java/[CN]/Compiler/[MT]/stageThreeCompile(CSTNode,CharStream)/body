{
  ASTBuilder astBuilder=new ASTBuilder(getClassLoader());
  ModuleNode module=astBuilder.build(compilationUnit);
  List results=new ArrayList();
  for (Iterator iter=module.getClasses().iterator(); iter.hasNext(); ) {
    ClassNode classNode=(ClassNode)iter.next();
    if (verbose) {
      System.out.println("Generating class: " + classNode.getName());
    }
    GroovyClass[] classes=generateClasses(new GeneratorContext(),classNode,charStream.getDescription());
    for (int j=0; j < classes.length; ++j) {
      results.add(classes[j]);
    }
  }
  return (GroovyClass[])results.toArray(GroovyClass.EMPTY_ARRAY);
}
