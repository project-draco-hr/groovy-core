{
  int count=0;
  for (int i=0; i < table.length; i++) {
    Entry current=table[i];
    Entry prev=null;
    while (current != null) {
      if (current.isValid()) {
        prev=current;
        current=current.next;
        continue;
      }
 else {
        count++;
        current=current.invalidate();
        if (prev != null) {
          prev.next=current;
        }
 else {
          table[i]=current;
        }
      }
    }
  }
  size-=count;
  return count;
}
