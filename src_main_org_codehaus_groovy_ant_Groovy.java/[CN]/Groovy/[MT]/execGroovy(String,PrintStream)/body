{
  log("execGroovy()",Project.MSG_VERBOSE);
  if ("".equals(txt.trim())) {
    return;
  }
  log("Groovy: " + txt,Project.MSG_VERBOSE);
  GroovyShell groovy=new GroovyShell(GroovyShell.class.getClassLoader());
  try {
    Script script=groovy.parse(txt);
    script.setProperty("ant",new AntBuilder(getProject()));
    script.setProperty("project",getProject());
    script.setProperty("properties",getProject().getProperties());
    script.setProperty("target",getOwningTarget());
    script.setProperty("task",this);
    script.run();
  }
 catch (  CompilationFailedException e) {
    throw new BuildException("Script Failed: " + e.getMessage(),getLocation());
  }
  if (print) {
    StringBuffer line=new StringBuffer();
    line.append(" foo bar");
    out.println(line);
  }
}
