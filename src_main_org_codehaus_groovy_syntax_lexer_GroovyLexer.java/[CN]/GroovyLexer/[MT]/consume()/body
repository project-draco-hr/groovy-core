{
  if (this.charsInBuffer == 0) {
    fillBuffer();
  }
  this.charsInBuffer--;
  int width=this.charWidth[this.cur];
  char c=this.buf[this.cur++];
  this.column+=width;
  if (boundary || (c == '\n' && width == 1)) {
    boundary=false;
    line++;
    column=1;
  }
 else   if (c == '\r' && width == 1) {
    if (la(1) != '\n') {
      line++;
      column=1;
    }
 else     if (this.charWidth[this.cur] == 1) {
      boundary=true;
    }
  }
  return c;
}
