{
  Object name=node.name();
  if (name instanceof QName && namespaceAware) {
    QName qname=(QName)name;
    String namespaceUri=qname.getNamespaceURI();
    if (namespaceUri != null) {
      String prefix=qname.getPrefix();
      if (!ctx.isNamespaceRegistered(namespaceUri)) {
        ctx.registerNamespacePrefix(namespaceUri,prefix);
        out.print(" ");
        out.print("xmlns");
        if (prefix.length() > 0) {
          out.print(":");
          out.print(prefix);
        }
        out.print("=\"");
        out.print(namespaceUri);
        out.print("\"");
      }
    }
  }
}
