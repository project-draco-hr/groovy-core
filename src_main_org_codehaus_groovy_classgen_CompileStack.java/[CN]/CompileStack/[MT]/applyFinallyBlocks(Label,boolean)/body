{
  StateStackElement result=null;
  for (ListIterator iter=stateStack.listIterator(stateStack.size()); iter.hasPrevious(); ) {
    StateStackElement element=(StateStackElement)iter.previous();
    if (!element.currentBlockNamedLabels.values().contains(label)) {
      if (isBreakLabel && element.breakLabel != label) {
        result=element;
        break;
      }
      if (!isBreakLabel && element.continueLabel != label) {
        result=element;
        break;
      }
    }
  }
  List blocksToRemove;
  if (result == null) {
    blocksToRemove=Collections.EMPTY_LIST;
  }
 else {
    blocksToRemove=result.finallyBlocks;
  }
  ArrayList blocks=new ArrayList(finallyBlocks);
  blocks.removeAll(blocksToRemove);
  applyFinallyBlocks(blocks);
}
