{
  StackTraceElement[] stackTrace=error.getStackTrace();
  for (int i=0; i < stackTrace.length; i++) {
    StackTraceElement elem=stackTrace[i];
    if (!elem.getClassName().startsWith("org.codehaus.groovy.transform.powerassert") && !elem.getClassName().startsWith("org.codehaus.groovy.runtime.callsite")) {
      StackTraceElement[] newStackTrace=new StackTraceElement[stackTrace.length - i];
      System.arraycopy(stackTrace,i,newStackTrace,0,newStackTrace.length);
      error.setStackTrace(newStackTrace);
      return;
    }
  }
}
