{
  Class callClass=method.getInterfaceClass();
  boolean useInterface=false;
  if (callClass == null) {
    callClass=method.getCallClass();
  }
 else {
    useInterface=true;
  }
  String type=BytecodeHelper.getClassInternalName(callClass.getName());
  String descriptor=BytecodeHelper.getMethodDescriptor(method.getReturnType(),method.getParameterTypes());
  if (method.isStatic()) {
    loadParameters(method,3,mv);
    mv.visitMethodInsn(INVOKESTATIC,type,method.getName(),descriptor);
  }
 else {
    mv.visitVarInsn(ALOAD,2);
    helper.doCast(callClass);
    loadParameters(method,3,mv);
    mv.visitMethodInsn((useInterface) ? INVOKEINTERFACE : INVOKEVIRTUAL,type,method.getName(),descriptor);
  }
  helper.box(method.getReturnType());
}
