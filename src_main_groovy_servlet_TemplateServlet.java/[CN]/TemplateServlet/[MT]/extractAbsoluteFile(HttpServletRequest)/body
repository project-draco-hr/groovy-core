{
  String uri=null;
  String requestUri=(String)request.getAttribute(INC_REQUEST_URI);
  String includeUri=(String)request.getAttribute(INC_SERVLET_PATH);
  if (requestUri != null) {
    String current=requestUri.substring(requestUri.indexOf(includeUri));
    if (!includeUri.equals(current)) {
      includeUri=current;
    }
  }
  if (includeUri == null) {
    uri=request.getServletPath();
    if (request.getPathInfo() != null) {
      uri=request.getServletPath() + request.getPathInfo();
    }
  }
 else {
    uri=includeUri;
  }
  File file=new File(context.getRealPath(uri)).getAbsoluteFile();
  return file;
}
