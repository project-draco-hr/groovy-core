{
  onLineNumber(fieldNode);
  fieldNode.setType(checkValidType(fieldNode.getType(),fieldNode,"Must be a valid field class for field: " + fieldNode.getName()));
  Object fieldValue=null;
  Expression expression=fieldNode.getInitialValueExpression();
  if (expression instanceof ConstantExpression) {
    ConstantExpression constantExp=(ConstantExpression)expression;
    Object value=constantExp.getValue();
    if (isPrimitiveFieldType(fieldNode.getType())) {
      Class type=null;
      try {
        type=loadClass(fieldNode.getType());
        fieldValue=InvokerHelper.asType(value,type);
      }
 catch (      Exception e) {
        log.warning("Caught unexpected: " + e);
      }
    }
  }
  cw.visitField(fieldNode.getModifiers(),fieldNode.getName(),BytecodeHelper.getTypeDescription(fieldNode.getType()),fieldValue,null);
}
