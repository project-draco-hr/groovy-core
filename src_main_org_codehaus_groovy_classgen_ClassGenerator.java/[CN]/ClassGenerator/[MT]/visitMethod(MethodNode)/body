{
  this.constructorNode=null;
  this.methodNode=node;
  this.variableScope=null;
  String methodType=helper.getMethodDescriptor(node.getReturnType(),node.getParameters());
  cv=cw.visitMethod(node.getModifiers(),node.getName(),methodType,null,null);
  helper=new BytecodeHelper(cv);
  findMutableVariables();
  resetVariableStack(node.getParameters());
  outputReturn=false;
  node.getCode().visit(this);
  if (!outputReturn) {
    cv.visitInsn(RETURN);
  }
  for (Iterator iter=exceptionBlocks.iterator(); iter.hasNext(); ) {
    Runnable runnable=(Runnable)iter.next();
    runnable.run();
  }
  exceptionBlocks.clear();
  cv.visitMaxs(0,0);
}
