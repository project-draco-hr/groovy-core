{
  Variable answer=(Variable)variableStack.get(name);
  if (answer == null) {
    idx=Math.max(idx,variableStack.size());
    answer=new Variable(idx,type,name);
    if (mutableVars.contains(name)) {
      answer.setHolder(true);
    }
    variableStack.put(name,answer);
    if (define && !definingParameters) {
      if (answer.isHolder()) {
        cv.visitVarInsn(ASTORE,idx + 1);
        cv.visitTypeInsn(NEW,"groovy/lang/Reference");
        cv.visitInsn(DUP);
        cv.visitMethodInsn(INVOKESPECIAL,"groovy/lang/Reference","<init>","()V");
        cv.visitVarInsn(ASTORE,idx);
        cv.visitVarInsn(ALOAD,idx + 1);
      }
 else {
        if (!leftHandExpression) {
          cv.visitInsn(ACONST_NULL);
          cv.visitVarInsn(ASTORE,idx);
        }
      }
    }
  }
  return answer;
}
