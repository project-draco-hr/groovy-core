{
  String[] currentStrings=getStrings();
  String[] newStrings=null;
  Object[] newValues=null;
  boolean appendToLastString=currentStrings.length > getValues().length;
  if (appendToLastString) {
    newStrings=new String[currentStrings.length];
  }
 else {
    newStrings=new String[currentStrings.length + 1];
  }
  newValues=new Object[getValues().length];
  int lastIndex=currentStrings.length;
  System.arraycopy(currentStrings,0,newStrings,0,lastIndex);
  System.arraycopy(getValues(),0,newValues,0,getValues().length);
  if (appendToLastString) {
    newStrings[lastIndex - 1]+=that;
  }
 else {
    newStrings[lastIndex]=that;
  }
  final String[] finalStrings=newStrings;
  return new GString(newValues){
    public String[] getStrings(){
      return finalStrings;
    }
  }
;
}
