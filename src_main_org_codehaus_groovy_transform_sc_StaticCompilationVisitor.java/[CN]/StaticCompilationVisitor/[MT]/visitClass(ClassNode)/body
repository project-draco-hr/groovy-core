{
  boolean skip=shouldSkipClassNode(node);
  ClassNode oldCN=classNode;
  classNode=node;
  Iterator<InnerClassNode> innerClasses=classNode.getInnerClasses();
  while (innerClasses.hasNext()) {
    InnerClassNode innerClassNode=innerClasses.next();
    innerClassNode.putNodeMetaData(STATIC_COMPILE_NODE,!(skip || isSkippedInnerClass(innerClassNode)));
    innerClassNode.putNodeMetaData(WriterControllerFactory.class,node.getNodeMetaData(WriterControllerFactory.class));
  }
  super.visitClass(node);
  addPrivateFieldAndMethodAccessors(node);
  classNode=oldCN;
}
