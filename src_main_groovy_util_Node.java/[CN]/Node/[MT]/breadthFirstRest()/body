{
  List answer=new NodeList();
  for (Iterator iter=InvokerHelper.asIterator(value); iter.hasNext(); ) {
    Object child=iter.next();
    if (child instanceof Node) {
      Node childNode=(Node)child;
      answer.add(childNode);
    }
  }
  List copy=new NodeList(answer);
  for (Iterator iter=copy.iterator(); iter.hasNext(); ) {
    Node childNode=(Node)iter.next();
    List children=childNode.breadthFirstRest();
    answer.addAll(children);
  }
  return answer;
}
