{
  List answer=new NodeList();
  List nextLevelChildren=getDirectChildren();
  while (!nextLevelChildren.isEmpty()) {
    List<Node> working=new NodeList(nextLevelChildren);
    nextLevelChildren=new NodeList();
    for (    Node childNode : working) {
      answer.add(childNode);
      List children=childNode.getDirectChildren();
      nextLevelChildren.addAll(children);
    }
  }
  return answer;
}
