{
  List list=parent().children();
  int afterIndex=list.indexOf(this);
  List leftOvers=new ArrayList(list.subList(afterIndex + 1,list.size()));
  list.subList(afterIndex + 1,list.size()).clear();
  Node lastAppended=null;
  for (  Node child : buildChildrenFromClosure(c)) {
    lastAppended=parent().appendNode(child.name(),child.attributes(),child.value());
  }
  parent().children().addAll(leftOvers);
  return lastAppended;
}
