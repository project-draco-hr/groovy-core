{
  List answer=new ArrayList();
  for (Iterator iter=InvokerHelper.asIterator(value); iter.hasNext(); ) {
    Object child=iter.next();
    if (child instanceof Node) {
      Node childNode=(Node)child;
      List children=childNode.depthFirst();
      answer.addAll(children);
      answer.add(childNode);
    }
  }
  return answer;
}
