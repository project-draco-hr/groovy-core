{
  URLConnection groovyScriptConn=null;
  ResourceException se=null;
  for (int i=0; i < roots.length; i++) {
    URL scriptURL=null;
    InputStream in=null;
    try {
      scriptURL=new URL(roots[i],resourceName);
      groovyScriptConn=scriptURL.openConnection();
      in=groovyScriptConn.getInputStream();
      break;
    }
 catch (    MalformedURLException e) {
      String message="Malformed URL: " + roots[i] + ", "+ resourceName;
      if (se == null) {
        se=new ResourceException(message);
      }
 else {
        se=new ResourceException(message,se);
      }
    }
catch (    IOException e1) {
      String message="Cannot open URL: " + scriptURL;
      if (se == null) {
        se=new ResourceException(message);
      }
 else {
        se=new ResourceException(message,se);
      }
    }
 finally {
      try {
        in.close();
      }
 catch (      IOException e) {
      }
    }
  }
  if (groovyScriptConn == null) {
    throw se;
  }
  return groovyScriptConn;
}
