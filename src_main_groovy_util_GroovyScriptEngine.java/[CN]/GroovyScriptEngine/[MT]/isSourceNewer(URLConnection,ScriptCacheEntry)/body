{
  if (entry == null)   return true;
  final long entryChangeTime=entry.lastModified + config.getMinimumRecompilationInterval();
  if (entryChangeTime < System.currentTimeMillis())   return false;
  long lastMod;
  URL source=conn.getURL();
  if (source.getProtocol().equals("file")) {
    String path=source.getPath().replace('/',File.separatorChar).replace('|',':');
    File file=new File(path);
    lastMod=file.lastModified();
  }
 else {
    lastMod=conn.getLastModified();
    try {
      conn.getInputStream().close();
    }
 catch (    IOException e) {
      throw new ResourceException(e);
    }
  }
  return entryChangeTime < lastMod;
}
