{
  super.gotoPhase(phase);
  if (phase == Phases.SEMANTIC_ANALYSIS && javaSources.size() > 0) {
    Iterator modules=getAST().getModules().iterator();
    while (modules.hasNext()) {
      ModuleNode module=(ModuleNode)modules.next();
      module.setImportsResolved(false);
    }
    try {
      JavaCompiler compiler=compilerFactory.createCompiler(getConfiguration());
      compiler.compile(javaSources,this);
    }
  finally {
      stubGenerator.clean();
      javaSources.clear();
    }
  }
}
