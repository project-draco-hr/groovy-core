{
  return new StaticTypeCheckingVisitor(unit,node,pluginFactory){
    @Override public void visitMethodCallExpression(    final MethodCallExpression call){
      super.visitMethodCallExpression(call);
      MethodNode target=(MethodNode)call.getNodeMetaData(StaticTypesMarker.DIRECT_METHOD_CALL_TARGET);
      if (target != null)       call.setMethodTarget(target);
      if (call.getMethodTarget() == null && call.getLineNumber() > 0) {
        addError("Target method for method call expression hasn't been set",call);
      }
    }
    @Override public void visitConstructorCallExpression(    final ConstructorCallExpression call){
      super.visitConstructorCallExpression(call);
      MethodNode target=(MethodNode)call.getNodeMetaData(StaticTypesMarker.DIRECT_METHOD_CALL_TARGET);
      if (target == null && call.getLineNumber() > 0) {
        addError("Target constructor for constructor call expression hasn't been set",call);
      }
    }
  }
;
}
