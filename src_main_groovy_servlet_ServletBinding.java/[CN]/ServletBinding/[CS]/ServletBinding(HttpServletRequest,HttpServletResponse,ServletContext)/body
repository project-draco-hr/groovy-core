{
  this.binding=new Binding();
  this.request=request;
  this.response=response;
  this.context=context;
  binding.setVariable("request",request);
  binding.setVariable("response",response);
  binding.setVariable("context",context);
  binding.setVariable("application",context);
  binding.setVariable("session",request.getSession(false));
  Map params=new HashMap();
  for (Enumeration names=request.getParameterNames(); names.hasMoreElements(); ) {
    String name=(String)names.nextElement();
    if (!binding.getVariables().containsKey(name)) {
      String[] values=request.getParameterValues(name);
      if (values.length == 1) {
        params.put(name,values[0]);
      }
 else {
        params.put(name,values);
      }
    }
  }
  binding.setVariable("param",params);
  Map headers=new HashMap();
  for (Enumeration names=request.getHeaderNames(); names.hasMoreElements(); ) {
    String headerName=(String)names.nextElement();
    String headerValue=request.getHeader(headerName);
    headers.put(headerName,headerValue);
  }
  binding.setVariable("header",headers);
}
