{
  ClassLoader parent=this.getClass().getClassLoader();
  if (parent instanceof AntClassLoader) {
    AntClassLoader antLoader=(AntClassLoader)parent;
    String[] pathElm=antLoader.getClasspath().split(File.pathSeparator);
    List<String> classpath=configuration.getClasspath();
    for (    String cpEntry : classpath) {
      boolean found=false;
      for (      String path : pathElm) {
        if (cpEntry.equals(path)) {
          found=true;
          break;
        }
      }
      if (!found && new File(cpEntry).exists())       antLoader.addPathElement(cpEntry);
    }
  }
  return new GroovyClassLoader(parent,configuration);
}
