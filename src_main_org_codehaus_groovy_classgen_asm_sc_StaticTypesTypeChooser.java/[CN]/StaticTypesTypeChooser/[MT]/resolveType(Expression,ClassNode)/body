{
  Expression target=exp instanceof VariableExpression ? getTarget((VariableExpression)exp) : exp;
  ClassNode dif=(ClassNode)target.getNodeMetaData(StaticTypesMarker.DECLARATION_INFERRED_TYPE);
  if (dif != null)   return dif;
  ClassNode inferredType=(ClassNode)target.getNodeMetaData(StaticTypesMarker.INFERRED_TYPE);
  if (inferredType != null) {
    return inferredType;
  }
  return super.resolveType(exp,current);
}
