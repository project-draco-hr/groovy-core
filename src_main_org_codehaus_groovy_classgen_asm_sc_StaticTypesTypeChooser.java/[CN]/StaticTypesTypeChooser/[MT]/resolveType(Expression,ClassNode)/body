{
  Expression target=exp instanceof VariableExpression ? getTarget((VariableExpression)exp) : exp;
  ClassNode inferredType=(ClassNode)target.getNodeMetaData(StaticTypesTransformation.StaticTypesMarker.INFERRED_TYPE);
  if (inferredType != null) {
    if (exp instanceof DeclarationExpression) {
      ClassNode dif=(ClassNode)target.getNodeMetaData(StaticTypesTransformation.StaticTypesMarker.DECLARATION_INFERRED_TYPE);
      if (dif != null)       return dif;
    }
    return inferredType;
  }
  return super.resolveType(exp,current);
}
