{
  if (var == null) {
    return;
  }
  if (!isDeclaration && var.isClosureSharedVariable()) {
    getState().put(var,VariableState.is_var);
  }
  VariableState count=getState().get(var);
  if (count == null) {
    count=uninitialized ? VariableState.is_uninitialized : VariableState.is_final;
    if (var instanceof Parameter) {
      count=VariableState.is_var;
    }
  }
 else {
    count=count.getNext();
  }
  if (forceVariable) {
    count=VariableState.is_var;
  }
  getState().put(var,count);
  if (count == VariableState.is_var && callback != null) {
    callback.variableNotFinal(var,expression);
  }
}
