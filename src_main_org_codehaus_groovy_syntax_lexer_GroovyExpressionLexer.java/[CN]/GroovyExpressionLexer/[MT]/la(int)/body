{
  if (source != null) {
    if (delimited) {
      char c=' ';
      int balance=this.balance;
      for (int i=1; i <= k && balance >= 0; i++) {
        c=source.la(k);
switch (c) {
case '{':
          balance++;
        break;
case '}':
      balance--;
    break;
}
}
if (balance >= 0) {
return c;
}
 else {
return CharStream.EOS;
}
}
 else {
return source.la(k);
}
}
 else {
return CharStream.EOS;
}
}
