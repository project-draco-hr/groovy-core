{
  if (this.buffer == null) {
    this.buffer=new char[value.length * 2];
    capacity=buffer.length;
  }
 else   if (this.buffer.length < value.length) {
    buffer=Chr.grow(buffer,value.length - buffer.length);
    capacity=buffer.length;
  }
  char[] buffer=this.buffer;
  int location=this.location;
  for (int index=0; index < value.length; index++) {
    int c=value[index];
    if (c >= 0) {
      buffer[location]=(char)c;
      location++;
    }
 else {
      this.location=location;
      index=utf8MultiByte(c,index,value);
      location=this.location;
    }
  }
  this.location=location;
}
