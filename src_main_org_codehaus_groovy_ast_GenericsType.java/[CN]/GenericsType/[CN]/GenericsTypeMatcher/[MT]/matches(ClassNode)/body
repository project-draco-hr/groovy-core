{
  if (classNode.isGenericsPlaceHolder()) {
    GenericsType[] genericsTypes=classNode.getGenericsTypes();
    if (genericsTypes == null)     return true;
    if (isWildcard()) {
      if (lowerBound != null)       return genericsTypes[0].getName().equals(lowerBound.getUnresolvedName());
      if (upperBounds != null) {
        for (        ClassNode upperBound : upperBounds) {
          if (genericsTypes[0].getName().equals(upperBound.getUnresolvedName()))           return true;
        }
        return false;
      }
    }
    return genericsTypes[0].getName().equals(name);
  }
  if (wildcard || placeholder) {
    if (upperBounds != null) {
      boolean upIsOk=true;
      for (int i=0, upperBoundsLength=upperBounds.length; i < upperBoundsLength && upIsOk; i++) {
        final ClassNode upperBound=upperBounds[i];
        upIsOk=implementsInterfaceOrIsSubclassOf(classNode,upperBound);
      }
      upIsOk=upIsOk && checkGenerics(classNode);
      return upIsOk;
    }
    if (lowerBound != null) {
      return implementsInterfaceOrIsSubclassOf(lowerBound,classNode) && checkGenerics(classNode);
    }
  }
  if ((type != null && !type.equals(classNode))) {
    return false;
  }
  return type == null || compareGenericsWithBound(classNode,type);
}
